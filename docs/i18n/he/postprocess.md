# ![](/icons/postprocess.webp) עיבוד־סופי (Post process) 

תפריט זה שולט בהיבטים רבים של Nomad המשפיעים על המראה הסופי של הרנדר.

![](/images/postprocess_overview_drac.webp)

שימוש בעיבוד־סופי יכול לשנות באופן משמעותי את המראה הסופי של הסצנה שלך.

![](/images/postprocess_overview.webp)
*אותה סצנה לפני ואחרי עיבוד־סופי, ללא אורות נוספים או שינויים בחומרים.*

עיבוד־סופי יכול להשפיע מאוד על הביצועים, בהתאם למכשיר שלך.  
יש תיבת סימון גלובלית לכיבוי כל העיבוד־הסופי, כך שתוכל לחזור במהירות לפיסול/מודלינג מבלי לאבד את ההגדרות השמורות שלך.  
לרינדור PBR, מומלץ להפעיל [Ambient Occlusion](#ambient-occlusion-ssao), [Reflection](#reflection-ssr) ו-[Tone Mapping](#tone-mapping).

עם זאת, ברוב הזמן תרצה שעיבוד־הסופי יהיה כבוי בזמן הפיסול, כדי להתמקד בצורה עצמה של הרנדר.

## Quality

![](/images/postprocess_quality.webp)
### Max frame sampling
Nomad תחשב כמות מסוימת של עיבוד־סופי עבור רנדר של פריים בודד, מה שעלול להיראות רועש. בקרה זו קובעת כמה פריימים ירונדרו ואז ימוזגו יחד כדי להסיר את רוב ארטיפקטי הרעש. חלק מהאפקטים אינם דורשים דגימות נוספות (למשל color grading), בעוד שאחרים כמו global illumination יכולים לדרוש מאות דגימות כדי להיות נקיים מרעש. 

בחלון התצוגה ניתן לראות זאת בכל פעם ש-Nomad נשארת ללא תנועה – איכות התמונה תשתפר בהדרגה עד למספר הדגימות המקסימלי, ואז תיעצר. מספר החישובים הזה משמש גם בסעיף הרנדר של [תפריט הקבצים](files) כאשר לוחצים על 'export png'.

### Resolution multiplier
מחוון זה שולט ברזולוציית העיבוד־הסופי. ערך של x1.0 פירושו שהרנדרים נעשים ברזולוציית הפיקסלים של המכשיר. ערך של x0.5 ירנדר בחצי רזולוציה, מה שיהיה מהיר אך באיכות נמוכה. ערך גדול מ־1 ירנדר בגודל גדול יותר ואז יקטין חזרה. התוצאה היא איכות גבוהה יותר, פחות רעש, אך זמני רנדר ארוכים יותר.

### Max samples

זה יעלה את איכות העיבוד־הסופי, אך בדרך כלל ל־`Full resolution` תהיה השפעה גדולה יותר. 

### Full resolution
כאשר מופעל, יכפה את ה־resolution multiplier לערך x1.0

### Denoiser (oidn)

מיישם מסיר־רעש על התמונה. זה מאפשר להשתמש במספר דגימות נמוך בהרבה. זה עובד רק אם `Full Resolution` מופעל. שים לב שהסרת הרעש מתבצעת לאחר שכל הדגימות חושבו, ויכולה להיות כבדה למעבד.

## Preset browser
![](/images/postprocess_presets.webp)
לחיצה על התמונה תציג אוסף של פריסטים לעיבוד־סופי. כדי להגדיר פריסטים משלך, בחר אחד, לחץ 'clone', בצע שינויים. כדי לשמור, לחץ על תמונת הפריסט, לחץ שוב בתוך דפדפן הפריסטים, ובחר 'save'.

## Reflection (SSR)
באפשרות זו, אובייקטים יכולים להחזיר (לשקף) אובייקטים אחרים בסצנה, כל עוד האובייקטים נראים על המסך.  
אם יש לך אובייקטים מתכתיים ומבריקים בסצנה, כנראה שכדאי להשתמש באפשרות זו.  
אפשרות זו יעילה רק במצב PBR.

| SSR off                    | SSR on                    |
| :------------------------: | :-----------------------: |
| ![](/images/ssr_off.webp) | ![](/images/ssr_on.webp) |

## Global Illumination (SSGI)

Global illumination מדמה כיצד אור קופץ בין משטחים, למשל קיר אדום יקרין אדום על אובייקט לבן סמוך. זה יכול לשפר מאוד את הריאליזם של הרנדר כאשר משתמשים בו יחד עם ambient occlusion והחזרות (reflections). 

`Strength` - עוצמת ה-global illumination. 

| SSGI off                     | SSGI on                    |
| :--------------------------: | :------------------------: |
| ![](/images/ssgi_off.webp) | ![](/images/ssgi_on.webp) |

_זרקור נמצא מאחורי הכדור, מכוון לתקרה. עם SSGI כבוי, רק התקרה מוארת. עם SSGI דולק, אור קופץ מהתקרה לקירות ולכדור._

## Ambient Occlusion (SSAO)
Ambient occlusion יכהה אזורים שבהם לאור יש פחות סיכוי להגיע (פינות וכו').  
האפקט תלוי רק בגאומטריית המודל.

* `Strength`- עוצמת האפקט.
* `Size`- עד כמה האפקט מתפשט.
* `Curvature bias` - עד כמה האפקט רגיש לשינויים בפני השטח.
* `Color` - גוון שמוכפל בתוך ה־occlusion, לשימושים יצירתיים.

| SSAO off                     | SSAO on                     |
| :--------------------------: | :-------------------------: |
| ![](/images/ssao_off.webp) | ![](/images/ssao_on.webp) |

::: tip
AO יהיה נראה ביותר באזורים המוארים בעיקר על ידי אור סביבה (environment). אזורים שנמצאים תחת אור ישיר חזק יקבלו אפקט AO חלש בהרבה.
:::

## Depth of Field (DOF)
מוסיף טשטוש לאזור שנמצא מחוץ למוקד.

פשוט הקש על המודל שלך כדי לשנות את נקודת המיקוד.

* `Far blur` - כמות הטשטוש שתוחל על הצד הרחוק מנקודת המיקוד.
* `Near blur` - כמות הטשטוש שתוחל בין נקודת המיקוד למצלמה.

| DOF off                    | DOF focus on far ring      | DOF focus on close ring    |
| :------------------------: | :-------------------------: | :------------------------: |
| ![](/images/dof_off.webp) | ![](/images/dof_near.webp) | ![](/images/dof_far.webp) |

## Bloom
Bloom יגרום לאזורים הבהירים בסצנה שלך לזהור.

* `Intensity` - עוצמת האפקט.
* `Radius` - מידת ההתפשטות של האפקט.
* `Threshold` - כמה בהירים פיקסלים צריכים להיות בסצנה לפני שהם מתחילים לזרוח (bloom). ערך נמוך יגרום להכול לזהור, ערך גבוה יאפשר רק לפיקסלים הבהירים ביותר לזהור.
* `Color` - גוון שניתן להוסיף ל-bloom לצרכים יצירתיים.

| Bloom off                     | Bloom with radius 0          | Bloom with radius 1          |
| :---------------------------: | :--------------------------: | :--------------------------: |
| ![](/images/bloom_off.webp) | ![](/images/bloom_r0.webp) | ![](/images/bloom_r1.webp) |

## Tone Mapping
Tone Mapping היא פעולה שממפה ערכי HDR לטווח `[0, 1]`.  
אם אינך משתמש בה (או בוחר `none`), כל רכיב צבע גבוה מ־1 ייחתך (clipped).  
כל שינויי הצבע מעל טווח זה יאבדו.

* `None/Neutral/Agx/ACES` - איזה tone mapper להשתמש. `None` לא מבצע מיפוי (אבל שאר הבקרים עדיין עובדים). האפשרויות האחרות דומות לבחירת סוגי פילם שונים – הן יתמודדו עם ערכים וצבעים חשופים־יתר בדרכים שונות. זה נושא עמוק מאוד, חפש מידע על tone mapping, Agx, ACES למידע נוסף!
* `Exposure` - בהירות כללית של התמונה, בדומה לכיוון הצמצם במצלמה. זו יכולה להיות דרך מהירה להבהיר או להכהות תמונה באופן גלובלי.
* `Saturation` - עוצמת הצבע. 1 הוא נייטרלי, 0 הוא מונוכרום, ערכים מעל 1 רוויים יותר ויותר.
* `Contrast` - הופך כהים לכהים יותר ובהירים לבהירים יותר. להשתמש בזהירות, ערכים גבוהים יכולים ליצור ארטיפקטים.

שים לב שעם `Tone Mapping` כבוי, חלק מהפרטים נעלמים כי הפיקסלים בהירים מדי.

| Tone Mapping off             | Tone Mapping on             |
| :--------------------------: | :-------------------------: |
| ![](/images/tone_off.webp) | ![](/images/tone_on.webp) |

::: tip
Tone mapping יכול להעצים את האפקט של global illumination. אם מנמיכים את עוצמת מפת הסביבה, מעלים את מקור האור הראשי, ואז מעלים את `exposure` של ה-tone mapping, ניתן לראות יותר מאפקטי האור הקופץ.
:::

## Color Grading
בדומה לכלי curves בפוטושופ, זה מאפשר לך לשלוט באיזון ובהתפלגות הצבע בתמונה. בקרת `main` משפיעה על איזון הצבע הכולל, ובקרות `red`/`green`/`blue` מאפשרות שליטה עדינה. 

| Color Grading off              | Color Grading on              |
| :----------------------------: | :---------------------------: |
| ![](/images/grading_off.webp) | ![](/images/grading_on.webp) |

## Curvature
מזהה היכן יש שינויים חדים בעקמומיות, ומחיל צבע על אזורים אלה.

* `Factor` - עוצמה כללית של האפקט
* `Bump` - עד כמה יאתר שינויים קמורים חדים, וימקם שם את הצבע הנבחר (לבן כברירת מחדל)
* `Cavity` - עד כמה יאתר שינויים קעורים, וימקם שם את הצבע הנבחר (שחור כברירת מחדל)

| Curvature off                     | Curvature on                    |
| :-------------------------------: | :-----------------------------: |
| ![](/images/curvature_off.webp) | ![](/images/curvature_on.webp) |

## Chromatic Aberration
מדמה ארטיפקטים של עדשה שבהם האור מתפרק בקצוות המסך.

* `Strength` - עד כמה חלקי האדום/ירוק/כחול של התמונה נפרדים לכיוון קצוות המסך

| Chromatic off                  | Chromatic on                  |
| :----------------------------: | :---------------------------: |
| ![](/images/chroma_off.webp) | ![](/images/chroma_on.webp) |

## Vignette
מדמה ארטיפקטים של עדשה על ידי החשכת קצוות המסך.

* `Size` - גודל אליפסה הפוכה המונחת מעל התמונה
* `Hardness` - עד כמה האליפסה מטושטשת או חדה כשהיא נבלעת מעל התמונה.

| Vignette off                     | Vignette on                     |
| :------------------------------: | :-----------------------------: |
| ![](/images/vignette_off.webp) | ![](/images/vignette_on.webp) |

## Grain
מוסיף אפקט גרעיניות, שיכול לעזור להפוך את התמונה לפחות מלאכותית.

* `Strength` - כמות הגרעיניות/הרעש המוספת לתמונה.

| Grain off                     | Grain on                    |
| :---------------------------: | :-------------------------: |
| ![](/images/grain_off.webp) | ![](/images/grain_on.webp) |

## Sharpness
אפקט חידוד, בדומה לזה שבפוטושופ או באפליקציות עיבוד תמונה.

* `Strength` - כמות החידוד המוחלת על התמונה.

| Sharpness off                   | Sharpness on                  |
| :-----------------------------: | :---------------------------: |
| ![](/images/sharpen_off.webp) | ![](/images/sharpen_on.webp) |

## Pixel Art
מדמה פיקסל־ארט של משחקים רטרו.

* `Slider` - גודל הפיקסלים
* `Allow frame sampling` - אם מתקבלים הרבה פיקסלים שחורים, נסה להפעיל אפשרות זו, שתעקוף את הדגימה ברירת־המחדל.

| Pixel off                    | Pixel on                    |
| :--------------------------: | :-------------------------: |
| ![](/images/pixel_off.webp) | ![](/images/pixel_on.webp) |

## Scanline
מדמה את המראה של מסכי CRT ישנים.

* `Factor` - עוצמת הקווים
* `Spacing` - גודל הקווים

| Scanline off                    | Scanline on                    |
| :-----------------------------: | :----------------------------: |
| ![](/images/scanline_off.webp) | ![](/images/scanline_on.webp) |

## Dithering

מוסיף Dithering לפיקסלים כדי להפחית ארטיפקטים של banding. בדרך כלל מומלץ להשאיר זאת פעיל, אך ניתן לכבותו עבור פעולות ספציפיות (למשל ייצוא depth maps או פעולות ייעודיות אחרות).
