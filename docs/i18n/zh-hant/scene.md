# ![](/icons/scene.webp) 場景 {#scene}

此選單可讓你在 Nomad 中管理物件、燈光、相機與重複器。它以樹狀檢視顯示場景階層，讓你能修改物件的多種屬性，也能建立新物件，或以各種方式合併與分離物件。


![](/images/scene_menu_summary.webp)


## 快捷列 {#shortcut-bar}
| 動作                   | 圖示                              | 說明                                                                                                              |
| :--------------------: | :-------------------------------: | :----------------------------------------------------------------------------------------------------------------: |
| [新增...](#add-menu)   | ![](/icons/plus.webp)            | 顯示 [新增選單](#add-menu)，將物件加入場景                                                                        |
| 刪除                   | ![](/icons/trash.webp)           | 刪除物件                                                                                                          |
| 鎖定                   | ![](/icons/lock.webp)            | 讓物件在視窗中無法被選取，但仍可在樹狀檢視中選取                                                                  |
| 合併                   | ![](/icons/merge.webp)           | 將選取的多個物件合併為單一物件，不改變幾何結構                                                                    |
| 分離                   | ![](/icons/diagonal.webp)        | 若物件由多個獨立的多邊形殼層組成，將其拆分為多個物件。為合併操作的反向動作                                         |
| [布林運算...](#boolean) | ![](/icons/subtract_circle.webp) | 顯示 [布林運算](#boolean) 選單                                                                                    |
| 複製                   | ![](/icons/clone.webp)           | 將物件複製為新的獨立物件                                                                                          |
| 實例                   | ![](/icons/link.webp)            | 將物件複製為實例，之後對任一實例的建模修改都會套用到所有實例                                                      |
| 解除實例               | ![](/icons/unlink.webp)          | 將實例轉換為獨立形狀，之後的建模修改不再同步到其他實例                                                            |
| 同步                   | ![](/icons/link.webp)            | 若實例有子物件，確保所有實例共享相同的子階層結構                                                                  |


## 樹狀檢視 {#tree-view}
![](/images/scene_treeview.webp) 

| 動作         | 圖示                       | 說明                     |
| :----------: | :------------------------: | :----------------------: |
| 選取         | ![](/icons/checked.webp)  | 切換選取／未選取         |
| 顯示         | ![](/icons/eye_open.webp) | 切換可見／隱藏           |
| 選單         | ![](/icons/more.webp)     | 顯示物件選單             |

::: tip 提示：快速選取或隱藏多個物件

點一下選取圖示可切換單一物件，或在選取欄位上垂直拖曳以一次選取多個物件。顯示欄位也可以用同樣方式操作。

:::

### 樹狀檢視操作 {#tree-view-manipulation}

在樹狀檢視中長按某個項目直到變成黃色，之後即可在樹中上下移動，或拖曳到另一個項目上，將其設為該項目的子物件。

當多個項目被選取時，大多數會是深黃色，其中一個會是較亮的黃色。長按並拖曳較亮的那個項目，即可一次移動所有選取的物件。

當你選取父物件時，預設會同時選取所有子物件。點擊父物件圖示可在「只選父物件」與「選父物件及其子物件」之間切換。

### 物件選單 {#object-menu}

點擊樹狀檢視中物件的省略號按鈕（...）會顯示物件選單。
其中許多選項與上方快捷列相同，為了方便而重複提供。

|       動作        |                        圖示                        | 說明                                                                                                                                                             |
| :----------------: | :------------------------------------------------: | :---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|       實例         |               ![](/icons/link.webp)            | 將物件複製為實例，之後對任一實例的建模修改都會套用到所有實例                                                                                                     |
|       複製         |              ![](/icons/clone.webp)            | 將物件複製為新的獨立物件                                                                                                                                         |
|       重新命名     |              ![](/icons/pencil.webp)           | 修改物件名稱                                                                                                                                                     |
|       刪除         |              ![](/icons/trash.webp)            | 刪除物件                                                                                                                                                         |
|       刪除+        |            ![](/icons/removeNode.webp)         | 刪除物件及其所有子物件                                                                                                                                           |
|     解除實例       |              ![](/icons/unlink.webp)           | 將實例轉換為獨立形狀，之後的建模修改不再同步到其他實例                                                                                                           |
|   分離拓樸結構     |             ![](/icons/separate.webp)          | 若物件由多個獨立的多邊形殼層組成，將其拆分為多個物件。為合併操作的反向動作                                                                                       |
| 依面群組分離       |            ![](/icons/faceGroup.webp)          | 若物件包含多個面群組，將網格依面群組拆分為多個物件                                                                                                               |
| 依圖層分離         |              ![](/icons/layer.webp)            | 若物件有圖層，將每個圖層拆分為獨立物件。對於將表情變形（blendshape）匯出到其他應用程式時很有用                                                                  |
| 合併 -> 圖層       | ![](/icons/merge.webp) -> ![](/icons/layer.webp) <span style="visibility:hidden">_________</span> | 若選取多個物件且拓樸結構相同，會將這些物件合併為主要物件的圖層（其他物件會被刪除）。同樣適合處理從其他應用程式匯入的表情變形。<br><br> 注意：圖層預設為停用狀態，若需要調整滑桿請先啟用圖層。 |




### 多重選取 {#multiselection}
你可以同時選取多個物件，以達成兩個目的：
- 使用操作工具（gizmo）一次移動多個物件
- 使用合併與布林運算來合併物件

你可以勾選 `Multiselection`（多重選取）核取方塊，然後在清單中點擊物件來選取。

::: tip 快速多重選取
你也可以在視窗中按住 `Smooth` 快捷鍵並點擊另一個網格來進行多重選取。

若要取消選取某個物件，再次點擊它即可（前提是目前選取的物件數量大於一個）。
:::

::: warning 操作工具限制
使用多重選取時，操作工具會一律忽略遮罩。
此外，X/Y/Z 單軸縮放會被移除。

原因是多重選取僅支援整個網格的變換，而非逐頂點變換。
未來可能會改進。
:::


## 合併 {#join}
此選項會將多個選取的物件合併為單一物件項目。

你可以在 [分離](#separate) 小節中看到示範影片。

## 布林運算 {#boolean}
![](/images/scene_boolean_menu.webp) 
將多個物件組合為單一表面。

`Voxel merge`（體素合併）會保留物件的體積，並在表面重新計算均勻分布的多邊形。由於需要計算步驟，體素合併可以處理複雜幾何，但若目標解析度不夠高，可能會失去細節。

`Boolean`（布林運算）會盡量保留原本的多邊形配置，並在物件重疊處縫合多邊形。這通常能比體素合併產生更乾淨、銳利的結果，但需要「密封」（watertight）的網格：物件中不能有洞或錯誤形狀。若布林運算失敗，通常改用體素合併就能成功。

### 布林運算操作 {#boolean-operations}
體素合併與布林運算都會依物件的可見性來決定運算方式：

#### 聯集 {#union}
兩個物件皆為可見時，會產生布林 **聯集**，將物件外殼合併為一體，內部不會保留表面。![](/images/boolean_union.webp)

#### 相減 {#subtract}
一個物件隱藏時 = 布林 **相減**，隱藏的物件會從可見物件中被扣除。![](/images/boolean_subtract.webp)

#### 交集 {#intersect}
兩個物件皆隱藏時 = 布林 **交集**，只在兩物件重疊區域建立新形狀。![](/images/boolean_intersect.webp)


### 體素合併按鈕 {#voxel-merge-button}
按下此按鈕會對選取的物件執行體素合併。若只對單一物件執行，則會重新拓樸為均勻分布的多邊形，適合用在多邊形被拉伸變形的物件上。

### 解析度 {#resolution}
用於計算的 3D 體素網格解析度。調整此數值時，物件上會顯示棋盤格圖樣，以預覽多邊形大小。

### 建立多重解析度 {#build-multiresolution}
在目標解析度以下建立多重解析度層級。假設解析度為 400，且多重解析度層級為 3，你會得到一個約 296,000 多邊形的新網格，並有 3 個較低的細分層級：約 74,000、18,000、4,000 多邊形。

### 保持銳利邊緣 {#keep-sharp-edges}
啟用後會將體素網格貼齊邊緣。對簡單形狀效果最佳。

### 布林按鈕 {#boolean-button}
按下此按鈕會使用 Emmett Lalish 的 Manifold 函式庫進行多邊形布林運算。 


## 分離 {#separate}
若你有一個由多個不相連部分組成的單一物件，可以將其拆分為多個物件。
這可視為 [簡單合併](#simple-merge) 的反向操作。

![](/videos/merge_separate.mp4)


## 新增選單 {#add-menu}

![](/images/scene_addmenu_overview.webp)

此選單可建立基本幾何（primitives）、群組、相機、重複器與燈光。

基本幾何是可透過參數調整的基礎形狀。當你將基本幾何調整到理想狀態後，需要「驗證」（validate），會將這些參數烘焙為可雕刻與上色的多邊形網格。基本幾何在驗證後就無法再調整其參數。


![](/images/scene_addmenu_top.webp)

### 在軸控器上 {#on-gizmo}
啟用時，新建立的基本幾何會放在目前選取形狀或操作工具（gizmo）的位置。停用時，會放在場景中心。

### 選取軸控器 {#select-gizmo}
啟用時，建立新基本幾何後會自動切換到操作工具。

### 進階 {#add-advanced}

此選單可設定你偏好的新基本幾何、群組、重複器建立位置。可以建立在選取物件上、世界原點，或操作工具位置。


### UV {#uvs}
啟用基本幾何的 UV。UV（常稱為貼圖座標）是 3D 中用來在表面套用貼圖的額外資料。它會佔用更多記憶體，但對大多數裝置來說，除非多邊形數量非常高（例如 1,000 萬以上），否則不必太擔心。 

### 基本物件 {#primitives}

| 基本幾何       | 圖示                                      | 說明                                                                                                     |
| :------------: | :---------------------------------------: | :------------------------------------------------------------------------------------------------------: |
| Box            | ![](/icons/cube.webp)                    | 簡單的立方體，可控制 X、Y、Z 三軸的分段數                                                                |
| Sphere         | ![](/icons/circle.webp)                  | 為方便起見稱為 Sphere，但實際上是細分立方體，並強制啟用 `Project on sphere`                             |
| Cylinder       | ![](/icons/cylinder.webp)                | 可為圓柱新增中心孔，例如製作中空管子                                                                    |
| Torus          | ![](/icons/torus.webp)                   | 圓環，適合作為戒指等形狀的起點                                                                          |
| Cone           | ![](/icons/cone.webp)                    | -                                                                                                        |
| Icosahedron    | ![](/icons/icosahedron.webp)             | -                                                                                                        |
| UV-sphere      | ![](/icons/circle.webp)                  | 拓樸分布不均勻的球體，請參見[下方警告](#uv-sphere)                                                       |
| Plane          | ![](/icons/rectangle.webp)               | 簡單的平面，注意這是唯一非封閉的基本幾何                                                                |
| Tube           | ![](/icons/tool_tube.webp)               | 參見 [Tube](tools#tube)                                                                                 |
| Lathe          | ![](/icons/tool_lathe.webp)              | 參見 [Lathe](tools#lathe)                                                                               |
| Triplanar      | ![](/icons/triplanar.webp)               | 參見 [Triplanar](#triplanar)                                                                            |
| Shadow Catcher | ![](/icons/material_shadow_catcher.webp) | 參見 [Shadow Catcher](#shadow-catcher)                                                                  |
| Head           | ![](/icons/face.webp)                    | 簡單頭部模型，附有可在男性／女性之間混合的圖層                                                          |

::: tip
若你想知道啟動 Nomad 時的預設基底網格是什麼：那也是一個細分立方體。
不過，Nomad 的基底網格沒有使用 `Project on sphere`，因此並非完美球體。
:::

### 基本物件工具列 {#primitive-toolbar}

![](/images/scene_primitive_toolbar.gif)

建立基本幾何後，會出現一個工具列用來控制其參數。

* `Validate` 將基本幾何烘焙為一般物件，以便雕刻與上色。
* `Edit` 切換是否顯示基本幾何的專用操作工具。此工具會直接顯示在基本幾何上，用來控制其參數，例如立方體寬度或圓柱孔徑。
* `Mirror` 切換是否在基本幾何上方放置鏡射重複器。
* `...` 顯示基本幾何選單。

不同的基本幾何在工具列上會有額外選項：

* `Project` 球體是由細分立方體構成，這樣較適合雕刻，但因此並非完美球體。此選項會將形狀推近完美球體。二十面體（icosahedron）也有此選項。
* `Cap` 切換形狀的端蓋，例如圓柱可在上端、下端、兩端或都不加端蓋。
* `Hole` 切換是否在形狀中心建立孔洞。會在「無孔」、「單一半徑孔」、「上下端不同半徑孔」之間循環。
* `Radius` 切換圓柱是使用單一半徑，或上下端使用不同半徑。
* `Disk` 切換平面是四邊形，或圓形。

主工具列下方的小工具列可在「基本幾何操作工具」與「一般變形操作工具」之間切換。

::: tip

點擊工具列標題可在螢幕頂端與底端之間切換其位置。點擊角落的箭頭可將其收合。

:::


### 基本物件選單 {#primitive-menu}

![](/images/scene_primitive_menu.webp)

此處包含選取之基本幾何的所有參數。參數是描述形狀的基本資訊。例如描述一個戒指時，你會描述其外半徑、內半徑與多邊形數量。

大多數基本幾何參數應該都相當直覺，且有一些是所有基本幾何共用的參數：

* `UVs` 選單頂端的小 UVs 按鈕可切換是否建立 UV 座標
* `Validate` 小型 Validate 按鈕可將基本幾何烘焙為一般物件，以便雕刻與上色
* `Max faces` 設定物件多邊形數量上限，以避免裝置當機
* `Post subdivision` 啟用拓樸選單中多重解析度區塊所設定的細分層級。搭配低分段數可建立邊角柔和的基本幾何。例如將立方體拓樸分段設為 2，後置細分設為 4，即可得到邊角平滑的立方體。
* `Linear subdivision` 設定在進行一般平滑細分前，要先使用幾層線性細分。可用來控制細分表面邊角的銳利或柔和程度。例如將立方體拓樸分段設為 2，後置細分設為 4，然後在 0 到 4 之間調整線性細分，立方體邊角會從柔和變為銳利。

### 拓樸 {#topology}

控制基本幾何的多邊形數量。通常控制項是連動的，因此調整其中一個啟用的滑桿時，會讓所有方向的多邊形數量均勻變化。你可以點擊「取消連結」按鈕，分別控制形狀在 X/Y/Z 方向的分段數。

### 幾何 {#geometry}

控制基本幾何的整體尺寸。方形形狀以 X/Y/Z 單位控制，圓形形狀則以半徑控制。


### UV 球 {#uv-sphere}
::: warning
UV Sphere 不適合用來雕刻，尤其是在兩極區域。

請優先使用 [Sphere](#sphere)、[Box](#box) 或 [Icosahedron](#icosahedron) 基本幾何，並搭配 `Project on sphere` 選項。

若將 `Division` 滑桿設為非常低的數值，其拓樸仍可勉強用於雕刻。
之後可以使用 `Overall Subdivision` 滑桿來提高多邊形數量。

雖然不適合一般雕刻，但 UV Sphere 很適合用來製作眼球；若將球體旋轉，使兩極位於瞳孔位置，多邊形分布會自然貼合虹膜與瞳孔的繪製與雕刻。
:::


### 三平面投射 {#triplanar}
此基本幾何較特別，你應該搭配 [遮罩工具](tools.md#mask) 來塑形。

![](/videos/triplanar.mp4)


::: tip
在某個平面上連點兩下，相機會對焦到該平面。
若你用操作工具旋轉過此基本幾何，則無法使用此功能。
:::

Triplanar 會使用三個平面的遮罩資訊來填滿體素網格，接著再將其多邊形化（多虧了 [體素重拓樸工具](topology.md#voxel-remeshere)）。

每個平面都有自己的對稱平面。

::: warning
每次你調整 Triplanar 基本幾何的尺寸，遮罩繪製的品質都會劣化。

目前尚無法「鎖定」只在單一平面上繪製，但未來可能會加入此功能。
你可以使用 [Connected Topology](stroke.md#connected-topology) 來稍微改善：只要游標精準落在某個平面上，就不會影響其他平面。
:::

### 陰影接收器 {#shadow-catcher}
新增一個使用 Shadow Catcher 材質的平面。更多細節請參見 [Shadow Catcher 材質](material.md#shadow-catcher)。 


## 群組/攝影機 {#groupcamera}
### 群組 {#group}
建立一個「空」物件，你可以將其他物件設為其子物件。這可用來整理階層結構，例如將多個物件放入同一群組後再收合。群組也可作為移動物件的輔助工具：將多個物件放入群組後，即可用操作工具移動、旋轉、縮放整個群組。

### 新增視角 {#add-view}
建立一個相機。

## 重複器 {#repeaters}
![](/images/scene_primitive_repeaters.webp)

重複器是會對其子物件建立實例的節點。 

### 陣列 {#array}
![](/images/scene_primitive_array.webp)

當物件成為此節點的子物件時，會以網格形式建立實例。選取此節點時，可調整以下控制項：
* Fit inside - 在「控制整個陣列盒子大小」與「控制實例間距」之間切換
* CountX/Y/Z - 各軸上的實例數量
* OffsetX/Y/Z - 在啟用 Fit inside 時，實例之間的距離
* SizeX/Y/Z - 在啟用 Fit inside 時，整個陣列網格的寬／高／深

### 曲線 {#curve}
![](/images/scene_primitive_curve.webp)
此節點會建立一條曲線，其子物件會沿著曲線重複。選取此節點時，可調整以下控制項：
* Edit - 允許在曲線上新增控制點，並移動控制點
* Snap - 將曲線控制點吸附到其他幾何表面
* Align - 讓子物件沿曲線方向自動旋轉對齊
* Count - 實例數量
* Closed - 切換曲線為首尾相接（封閉）或開放曲線
* Radius - 在每個曲線控制點啟用控制柄，用來調整實例縮放
* Twist - 在每個曲線控制點啟用控制柄，用來調整實例扭轉角度
* B-spline - 切換實例是精確跟隨曲線，或使用 B-spline 插值以獲得更平滑的結果

### 放射狀 {#radial}
![](/images/scene_primitive_radial.webp)

此節點的子物件會以圓形方式建立實例。移動子物件可改變重複器半徑。選取此節點時，可調整以下控制項：
* RadialX/Y/Z - 選擇放射軸向，並設定實例數量



### 鏡像 {#mirror}
![](/images/scene_primitive_mirror.webp)

此節點的子物件會沿某軸鏡射。選取此節點時，可調整以下控制項：
* Gizmo - 啟用變形操作工具以設定鏡射中心。此中心也可旋轉與縮放。完成後再次點擊 Gizmo 以回到一般控制項。
* X/Y/Z - 設定鏡射平面

所有重複器都有 `Validate` 控制項，用來烘焙重複器結果，並會詢問烘焙方式：
* Join children - 將所有實例合併為單一物件
* Keep instances - 保留實例，但移除重複器「父節點」
* Un-instances - 將實例轉換為獨立物件

::: tip 提示：組合重複器
重複器可以互相成為父子節點，且多個物件可以同時成為重複器的子物件，進而產生複雜效果。

![](/images/scene_repeater_combine.webp)
:::

::: tip 提示：重複器樞紐點（pivot）

某些重複器會嘗試自動設定子物件的樞紐點，因此即使你用操作工具移動或旋轉子物件，它們看起來也不會移動。若你需要覆寫此行為，可在重複器與子物件之間插入一個群組。這樣就能在不影響重複器的情況下獨立移動子物件。
:::

## 燈光 {#light}

![](/images/scene_primitive_light.webp)

### 平行光 {#directional}
建立方向光，類似太陽般的無限遠光源。

### 聚光燈 {#spot}
建立聚光燈，可控制光錐寬度與柔和度。

### 點光源 {#point}
建立點光源。

## 進階 {#advanced}
### 聚焦於項目 {#focus-on-item}
在場景清單中連點兩下某個項目，會將 3D 視圖的相機對準該項目。

### 同步可見度 {#sync-visibility}
使用眼睛圖示時，會同時影響所有選取的項目。 

### 實例：顯示 {#instance-show}
在場景清單左側顯示彩色膠囊，以標示實例。


### 圖示 {#icons}
設定視窗中群組、燈光、相機、鏡射圖示的大小與不透明度。

### 階層連線 {#hierarchy-lines}
在視窗中顯示父物件與子物件之間的連線。

## 底部工具列 {#bottom-toolbar}
這些圖示可切換在視窗中顯示／隱藏群組、燈光、相機、重複器與階層線。