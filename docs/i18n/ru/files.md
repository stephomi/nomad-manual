# ![](/icons/open.webp) Файлы {#files}

Меню «Файлы» позволяет сохранять и загружать проекты Nomad, импортировать и экспортировать 3D‑модели, а также экспортировать отрендеренные изображения.

![](/images/file_menu.webp)

## Проект {#project}
![](/images/file_project.webp)

В верхней части этого меню отображается миниатюра последнего сохранения. Нажатие на эту миниатюру открывает мини‑браузер, дважды коснитесь другого проекта, чтобы открыть мини‑меню с действиями: открыть, добавить, сохранить, клонировать, переименовать, удалить этот проект.

### ![](/icons/nomad.webp) Пресет {#preset}
Доступ к коллекции демо‑сцен и компонент персонажей. Выберите один элемент, затем выберите его ещё раз, чтобы решить, Открыть, Добавить в сцену или Клонировать запись в вашу папку проектов.

![](/images/file_preset_preview.webp)

### ![](/icons/save.webp) Сохранить {#save}
Сохранить проект Nomad.

### ![](/icons/save_as.webp) Сохранить как... {#save-as}
Открыть браузер проектов, чтобы сохранить проект Nomad под новым именем.

### ![](/icons/pencil.webp) Переименовать {#rename}
Показать текстовое поле для переименования текущего проекта.

### ![](/icons/open.webp) Открыть... {#open}
Открыть браузер проектов для загрузки проекта.

### ![](/icons/add_file.webp) Добавить в сцену... {#add}
Открыть браузер проектов; когда проект выбран, его содержимое будет объединено с текущей сценой.

### ![](/icons/trash.webp) Удалить... {#delete}
Открыть браузер проектов; все выбранные проекты будут удалены из файловой системы.

### ![](/icons/new_file.webp) Новый {#new}
Начать новый проект; если есть несохранённые изменения, появится запрос на сохранение.

### ![](/icons/autosave.webp) Автосохранение... {#auto-save}
Меню управления параметрами автосохранения.

Если включить автосохранение, можно задать таймер, чтобы всплывающее окно появлялось через регулярные интервалы.
Nomad не сохраняет в фоновом режиме, потому что 3D‑файлы могут быть довольно большими, что может вызывать заметные подвисания во время скульптинга.

Кроме того, чтобы избежать проблем с нехваткой памяти, сцена обычно сжимается перед операцией сохранения.
Это сжатие/распаковка также замедляет процесс сохранения.

### Всплывающее окно таймера {#timer-pop-up}
Как часто будет появляться всплывающее окно таймера.

### Время отображения всплывающего окна {#popup-timeout}
Включить тайм‑аут всплывающего окна.

### Отклонить автосохранение {#discard-autosave}
Если для проекта существует файл автосохранения, он будет автоматически загружен вместо исходного проекта. Если это не требуется, эта кнопка удалит файл автосохранения. После этого при загрузке будет открыт последний ручной вариант сохранения проекта.


## Импорт {#import}

### ![](/icons/add_file.webp) Импорт {#import-button}
Для импорта 3D‑файлов, которые не являются проектами Nomad.

При импорте внешнего файла сцены в Nomad можно либо *импортировать* его, либо *добавить*.

Добавление файла просто добавит объекты в текущую сцену.
Импорт файла создаст новый проект Nomad с новыми объектами.

Nomad может импортировать следующие форматы:
- Nomad (.nom)
- glTF (.glb, .gltf)
- OBJ (.obj)
- STL (.stl)
- PLY (.ply)
- FBX (.fbx, экспериментально)

### ![](/icons/cog.webp) Дополнительно {#advanced}
Показать расширенные параметры импорта:

### Project/ glTF / OBJ / STL / FBX {#project-gltf-obj-stl-fbx}
#### Сохранить топологию {#keep-topology}
По умолчанию Nomad пытается исправить проблемную геометрию при загрузке. Включение этой опции отключит переупорядочивание вершин/полигонов, удаление дубликатов вершин/полигонов и удаление неиспользуемых вершин.

#### Пропустить текстуры {#skip-textures}
Пропустить загрузку текстур для форматов, которые их поддерживают, например glTF.

### Project / glTF {#project-gltf}
#### Сохранить настройки интерфейса {#keep-gui-settings}
Включить сохранение настроек интерфейса и проекта внутри файла Nomad .nom или glTF.

### OBJ {#obj}
#### Разделить OBJ по группам {#split-obj-by-groups}
Включить разделение групп OBJ на отдельные объекты.

#### Цветовое пространство {#color-space}
Задать режим интерпретации цвета из OBJ: Linear, sRGB или Auto.

### PLY {#ply}
#### Цветовое пространство {#color-space-ply}
Задать режим интерпретации цвета из PLY: Linear, sRGB или Auto.


### FBX {#fbx}
#### Цветовое пространство {#color-space-fbx}
Задать режим интерпретации цвета из FBX как Linear, sRGB или Auto.



## Экспорт {#export}
Сохранить в формат 3D‑геометрии, который можно использовать в другом ПО. 

![](/images/file_export.webp)

Разные форматы файлов поддерживают разные возможности, доступные параметры будут меняться в зависимости от выбранного типа файла.

<!-- https://www.tablesgenerator.com/markdown_tables# -->
<!-- http://markdowntable.com/ -->
|                                 | NOM    | GLTF/GLB             | OBJ  | USD | PLY  | STL   | FBX                    |
| :-----------------------------: | :----: | :------------------: | :--: | :--: | :--: | :---: | :--------------------: |
| [Vertex Colors](#vertex-colors) | ✅     | ✅                   | ✅   | ✅ | ✅    | ✅    | ✅                     |
| [Vertex PBR](#vertex-pbr)       | ✅     | Nomad ✅<br>Other ⚠️ | ❌   | ✅ | ✅    | ❌    | ❌                     |
| Quad                            | ✅     | Nomad ✅<br>Other ⚠️ | ✅   | ✅ | ✅    | ❌    | ✅                     |
| [Layers](#layers)               | ✅     | ✅                   | ❌   | ✅ | ❌    | ❌    | ✅                     |
| Objects                         | ✅     | ✅                   | ✅   | ✅ | ❌    | ❌    | ✅                     |
| Face Group                      | ✅     | ✅                   | ✅   | ✅ | ❌    | ❌    | ✅                     |
| Hierarchy                       | ✅     | ✅                   | ❌   | ✅ | ❌    | ❌    | ✅                     |
| Lights                          | ✅     | ✅                   | ❌   | ✅ | ❌    | ❌    | ✅                     |
| Textures                        | ✅     | ✅                   | ✅   | ✅ | ❌    | ❌    | Import ✅<br>Export ❌ |
| Primitives, Postprocess, etc    | ✅     | Nomad ✅<br>Other ❌ | ❌   | ❌ | ❌    | ❌    | ❌                     |


### Все/Видимые/Выбранные {#allvisibleselected}
Активная кнопка задаёт, какие объекты будут экспортированы. Число рядом с иконками показывает, сколько объектов будет экспортировано для этого варианта.

### Вершинные цвета {#vertex-colors}
Экспортировать вертексные цвета, если формат файла их поддерживает.

### PBR-рисование {#pbr-paint}
PBR‑вертексные цвета экспортируются как вторичные атрибуты вертексных цветов.
Каналы упакованы следующим образом:

|           | Channel  |
| :-------: | :------: |
| Roughness | R        |
| Metalness | G        |
| Masking   | B        |


### Слои {#layers}
Слои поддерживаются через morph‑таргеты glTF.
Nomad также экспортирует для слоёв цвет, шероховатость и металличность, но другое ПО обычно это игнорирует.

### Послойное рисование {#layer-painting}
Экспорт покраски по слоям, обычно игнорируется другим ПО.

### Группа полигонов {#face-group}
Экспортировать группы полигонов (facegroups); экспорт иногда может конфликтовать с другим ПО.

### Нормали {#normals}
Экспортировать информацию о нормалях. Обратите внимание, что Nomad всегда пересчитывает собственные нормали при импорте других форматов.

### Тангенсы {#tangents}
Экспортировать информацию о тангентах, используется, если у модели есть normal map.

### Текстуры {#textures}
Если к материалу были добавлены текстуры, они будут экспортированы. Обратите внимание, что это не запекает текстуры — запекание выполняется через параметры запекания в разделе топологии.

### Кнопка экспорта {#export-button}
Нажмите, чтобы экспортировать геометрию с выбранными настройками.

::: tip Совет: импорт шероховатости и металличности в Blender

Blender может импортировать glTF/glb, но не интерпретирует автоматически вертексные атрибуты металличности и шероховатости. Чтобы их использовать, в редакторе материалов создайте узел Vertex Color, установите его свойство на следующий цветовой атрибут (обычно Col.001). Подключите узел «Separate XYZ», отправьте X в Roughness, а Y в Metallic.

Этот ролик показывает процесс:

![](/videos/blender_pbr.mp4)

::: 

::: tip Совет: поддержка возможностей USD

USD — сложный формат, его спецификация поддерживает множество функций, но не всё 3D‑ПО их реализует. Например, в OSX/iOS не поддерживаются вертексные цвета. Предустановленные режимы в экспортере USD пытаются обеспечить наилучшую совместимость с OpenUSD, Apple, Procreate, ZBrush.

::: 

## Рендер {#render}

Экспорт изображения, представляющего собой комбинацию всех настроек проекта (свет, материалы, постобработка и т. д.). 

![](/images/file_render.webp)
### Предпросмотр {#preview}

Небольшая кнопка предпросмотра рядом с заголовком меню затемняет панели инструментов, чтобы упростить просмотр финального результата.

### Прозрачный фон {#transparent-background}
Включить альфа‑канал для рендера, полезно для комбинирования рендера с другими изображениями в 2D‑программах. Частичная прозрачность не поддерживается.

### Показать интерфейс {#show-interface}
Включить включение интерфейса Nomad в рендер.

### Коэффициент рендера {#render-ratio}
Множитель разрешения изображения.

### Итоговый размер {#final-size}
Разрешение, используемое для рендера. При выборе `Custom` становятся активны ползунки ширины и высоты. 

Когда меню «Файл» активно, в окне просмотра рисуется пунктирный контур, обозначающий область рендера, если она не совпадает с разрешением экрана (учтите, что для корректного отображения нужно быть в альбомной ориентации).

### Экспорт png {#export-png}
Нажмите эту кнопку, чтобы запустить процесс рендера. По завершении вы сможете выбрать, как сохранить или поделиться изображением.