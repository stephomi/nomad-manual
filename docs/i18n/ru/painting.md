# ![](/icons/paint.webp) Рисование  

Управляйте цветом, шероховатостью, металличностью мазков, выполняйте заливку атрибутов краски и настраивайте, как инструменты рисования взаимодействуют со слоями, масками и скрытыми выделениями.

![](/images/paint_overview.webp)  

## Обзор

Nomad использует вертексное рисование в PBR. Что это значит?

### PBR
PBR (Physically Based Rendering, физически корректный рендеринг) — популярная техника компьютерной графики для кино, телевидения, игр и мобильных устройств. Основанные на физических свойствах источники света и поверхности, описанные через цвет, шероховатость и металличность, позволяют получать широкий спектр фотореалистичных видов.

### Вертексное рисование

Вертексное рисование означает, что информация о краске хранится в вершинах модели, а не в текстурах. Поскольку Nomad может работать с моделями, содержащими сотни тысяч и даже миллионы вершин, ваши модели могут иметь очень детальную покраску поверхности: если вы можете вылепить деталь, вы можете и покрасить её.

Это также означает, что рисование в Nomad не требует UV‑развёртки — часто медленного и технически сложного процесса в других 3D‑приложениях. Многие другие 3D‑приложения не поддерживают такие высокие количества вершин, как Nomad, однако в Nomad также есть хорошие инструменты запекания текстур и декомпозиции (decimation), которые помогают в работе.

### Текстурирование

Nomad поддерживает текстуры, но они должны присутствовать в импортированной модели или появиться в результате запекания вертексного рисования в текстуры. 

Текстура — это просто изображение, но в 3D‑контексте обычно имеется в виду изображение, назначенное объекту.
Чтобы «обернуть» изображение вокруг модели, модели нужны координаты текстуры (UV).

Nomad может [вычислить их автоматически](topology.md#uv-unwrap), но у вас будет мало контроля над общим качеством.

::: tip
Пример рабочего процесса:
- Вылепить в Nomad, затем выполнить [UV‑развёртку](topology.md#uv-unwrap)
- Если вы уже начали рисовать в Nomad, можно [перенести вертексное рисование в текстуры](topology.md#bake-vertex-colors-to-texture)
- Экспортировать в Procreate
- Текстурировать в Procreate
- Экспортировать обратно в Nomad для рендеринга
:::

Это был обзор, теперь рассмотрим разделы меню рисования:


## Рисование штрихом
![](/images/paint_intensity.webp)  

Включает рисование для этого инструмента, полезно, если нужно лепить и рисовать одновременно.

Для инструментов, где рисование — основная функция (например, Paint, Smudge, Mask), этот флажок отсутствует.

### Интенсивность рисования

Ползунок, позволяющий использовать интенсивность рисования, отличную от основной интенсивности инструмента.

Флажки `Alpha`, `Falloff` и `Randomize` определяют, будут ли эти параметры влиять на рисование. Например, можно включить randomize для инструмента Clay, но при этом цвет не будет рандомизироваться.


## Материал
![](/images/paint_material.webp) 

Первая иконка — это форма предпросмотра материала. Перетаскивание по 3D‑превью материала вращает его. 

Вторая иконка — предпросмотр мазка с выбранными параметрами альфы и затухания (falloff).

Кнопка предпросмотра рядом с заголовком Material позволяет переключаться между режимами none, Material или Triplanar. Это определяет, что будет происходить при интерактивном изменении свойств краски:

* `None` — при настройке свойств на модели не будет отображаться предпросмотр
* `Material` — значения материала будут предварительно отображаться на объекте при настройке свойств. Если вы используете текстуры и у модели есть UV, будут использоваться UV‑координаты.
* `Triplanar` — материал будет предварительно отображаться как трипланарная проекция. 

Пипетка позволяет выбрать все свойства с объекта в вашей сцене.

## Пресеты материалов
Нажатие на 3D‑форму предпросмотра открывает меню пресетов материалов; их можно клонировать и создавать собственные пресеты.

![](/images/paint_presets.webp) 

Переключатели `Embed Textures` и `Alpha`, если включены, сохраняют любые текстуры, используемые этим материалом, внутри пресета. Подробности об этом ниже.

## PBR‑ползунки
![](/images/paint_sliders.webp) 

[PBR](shading.md#pbr)‑рисование использует 4 канала:
- `Color` Цвет, который будет наноситься. Пипетку можно использовать для выбора цвета с других частей модели или с референс‑изображений.
- `Roughness` Показывает, насколько поверхность «шероховатая» или «гладкая». Низкое значение шероховатости означает, что отражения будут резкими.
- `Metalness` Показывает, является ли поверхность металлической. Значение чаще всего должно быть либо 0%, либо 100%; промежуточные значения — исключение.
- `Opacity` Насколько материал просвечивает. Строго говоря, это не часть спецификации PBR, но параметр полезен во многих ситуациях. 1 — полностью непрозрачный, 0 — прозрачный. Обратите внимание, что непрозрачность и преломление — разные вещи; преломление в Nomad обрабатывается через материал преломления (refraction). 

Если вы выбираете пресет материала, 3 канала рисуются одновременно (непрозрачность часто намеренно исключается). Это значит, что вместо того, чтобы просто рисовать «красным», вы можете рисовать «красным шероховатым металлом» или «белым гладким пластиком».

Квадрат — это слот текстуры; нажмите на него, чтобы использовать текстуру для этого свойства вместо сплошного значения.

Иконка кисти рядом с ползунками зальёт это свойство по всему объекту.

Флажок включает или отключает конкретное свойство, так что вы можете, например, рисовать только цвет, или только шероховатость и непрозрачность. 

Ниже приведены примеры различных сочетаний шероховатости и металличности:

|                | Metalness 0%                      | Metalness 100%               |
| :------------: | :-------------------------------: | :--------------------------: |
| Roughness 0%   | ![](/images/dielectric_r0.webp)   | ![](/images/metal_r0.webp)   |
| Roughness 50%  | ![](/images/dielectric_r50.webp)  | ![](/images/metal_r50.webp)  |
| Roughness 100% | ![](/images/dielectric_r100.webp) | ![](/images/metal_r100.webp) |

::: warning
В режиме [Matcap‑рендеринга](shading.md#matcap) поддерживается только цвет; металличность и шероховатость игнорируются.
:::

::: tip
При использовании текстур для PBR‑рисования часто полезно переключиться, например, на инструмент `Stamp` или в меню Stroke выбрать режим, отличный от Dot, который может «размазывать» текстуру.

![](/videos/paint_color_texture.mp4)  
:::

::: tip
Имеет смысл включить `Smooth Shading` [глобально](settings.md#smooth-shading) или [для отдельного объекта](material.md#smooth-shading), если вы рисуете металлическую поверхность на объекте с невысоким количеством полигонов.
:::

## Paint all

![](/images/paint_paint_all.webp)

Применяет текущий материал к объекту — либо в стандартном режиме через «Paint All», либо как трипланарную проекцию.

Флажки рядом с ползунками color/metalness/roughness/opacity учитываются: любые отключённые свойства заливаться не будут.

Дополнительные кнопки управляют тем, как «paint all» может быть дополнительно модифицирован:

| Icon                        | Description                                   |
| :-------------------------: | :-------------------------------------------: |
| ![](/icons/tool_mask.webp) | Маскированные области не будут затронуты.     |
| ![](/icons/tool_hide.webp) | Скрытые области не будут затронуты.          |
| ![](/icons/opacity.webp)   | Использовать коэффициент рисования инструмента выше. |
| ![](/icons/layer.webp)     | Непрокрашенные области слоя не будут затронуты. |
| ![](/icons/triplanar.webp) | Индикатор настроек трипланара                |
| ![](/icons/cog.webp)       | Открыть настройки Triplanar                  |

### Настройки Triplanar
![](/images/paint_triplanar_settings.webp)

Аналогично [настройкам трипланара в меню материала](material.md#triplanar), вы можете управлять смешиванием проекций, тайлингом и смещениями. 

Используйте флажок предпросмотра в верхней части этого меню, чтобы включить постоянный предпросмотр при настройке значений.

## Глобальный материал
Если эта опция включена, выбранный материал будет одинаковым для всех инструментов. Обратите внимание, что учитываются только настройки шероховатости, металличности и цвета.
