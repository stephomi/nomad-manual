# ![](/icons/postprocess.webp) 포스트 프로세스 {#post-process}

이 메뉴는 렌더의 최종 모습을 바꾸는 노마드(Nomad)의 여러 요소를 제어합니다.

![](/images/postprocess_overview_drac.webp)

후처리를 사용하면 장면의 최종 결과가 크게 달라질 수 있습니다.

![](/images/postprocess_overview.webp)
*추가 조명이나 머티리얼 변경 없이, 같은 장면의 후처리 전/후 비교.*

후처리는 기기 성능에 따라 렌더링 성능에 큰 영향을 줄 수 있습니다.  
프리셋을 잃지 않고도 빠르게 조각/모델링 작업으로 돌아갈 수 있도록, 모든 후처리를 전역으로 끄는 체크박스가 있습니다.  
PBR 렌더링의 경우 [Ambient Occlusion](#ambient-occlusion-ssao), [Reflection](#reflection-ssr), [Tone Mapping](#tone-mapping)을 켜 두는 것이 좋습니다.

다만 대부분의 경우, 형태에 집중하기 위해 조각 작업을 할 때는 후처리를 끄는 편이 좋습니다.


## 품질 {#quality}

![](/images/postprocess_quality.webp)
### 최대 프레임 샘플링 {#max-frame-sampling}
노마드는 한 프레임 렌더에 대해 일정량의 후처리를 계산하는데, 이때 노이즈가 보일 수 있습니다. 이 컨트롤은 몇 개의 프레임을 렌더링한 뒤, 노이즈 아티팩트를 줄이기 위해 서로 블렌딩할지를 결정합니다. 어떤 효과(예: 컬러 그레이딩)는 추가 샘플이 거의 필요 없지만, 글로벌 일루미네이션 같은 효과는 노이즈를 없애려면 수백 개의 샘플이 필요할 수 있습니다. 

뷰포트에서는 노마드를 그대로 두면 이미지 품질이 점차 정제되다가, 최대 샘플 수에 도달하면 멈추는 것으로 확인할 수 있습니다. 이 계산 횟수는 [Files 메뉴](files)의 렌더 섹션에서 'export png'를 클릭했을 때도 사용됩니다.

### 해상도 배율 {#resolution-multiplier}
이 슬라이더는 후처리의 해상도를 제어합니다. 값이 x1.0이면 기기의 실제 픽셀 해상도로 렌더링합니다. x0.5는 절반 해상도로 렌더링하여 빠르지만 품질이 낮습니다. 1보다 큰 값은 더 큰 해상도로 렌더한 뒤 축소합니다. 이는 더 높은 품질과 적은 노이즈를 제공하지만, 렌더 시간이 길어집니다.

### 최대 샘플 수 {#max-samples}

후처리 품질을 높입니다. 다만 일반적으로 `Full resolution`이 더 큰 영향을 줍니다. 

### 디노이저 (oidn) {#oidn}

이미지에 디노이저를 적용합니다. 이를 사용하면 훨씬 적은 샘플 수로도 충분한 품질을 얻을 수 있습니다. `Full Resolution`이 켜져 있을 때만 동작합니다. 디노이징은 모든 샘플 계산이 끝난 후에 수행되며, 프로세서 부하가 클 수 있습니다.

## 프리셋 브라우저 {#preset-browser}
![](/images/postprocess_presets.webp)
이미지를 클릭하면 후처리 프리셋 모음이 표시됩니다. 자신만의 프리셋을 만들려면, 하나를 선택하고 'clone'을 누른 뒤 변경을 가합니다. 저장하려면 프리셋 이미지를 클릭하고, 프리셋 브라우저 안을 다시 클릭한 후 'save'를 선택합니다.


## 반사 (SSR) {#reflection-ssr}
이 옵션을 사용하면, 화면에 보이는 한에서 장면의 오브젝트들이 서로를 반사할 수 있습니다.  
장면에 금속성·광택이 강한 오브젝트가 있다면 이 옵션을 사용하는 것이 좋습니다.  
이 옵션은 PBR 모드에서만 효과가 있습니다.


| SSR off                    | SSR on                    |
| :------------------------: | :-----------------------: |
| ![](/images/ssr_off.webp) | ![](/images/ssr_on.webp) |

## 전역 조명 (SSGI) {#global-illumination-ssgi}

글로벌 일루미네이션은 빛이 표면 사이를 튕기며 퍼지는 현상을 시뮬레이션합니다. 예를 들어, 빨간 벽은 인접한 흰 오브젝트에 붉은 빛을 투사합니다. 앰비언트 오클루전과 반사와 함께 사용하면 렌더의 현실감을 크게 높일 수 있습니다. 

`Strength` - 글로벌 일루미네이션의 강도. 



| SSGI off                   | SSGI on                   |
| :------------------------: | :-----------------------: |
| ![](/images/ssgi_off.webp) | ![](/images/ssgi_on.webp) |

_스포트라이트가 구 뒤쪽에서 천장을 향해 비추고 있습니다. SSGI를 끄면 천장만 밝아집니다. SSGI를 켜면 빛이 천장에서 벽으로, 다시 구로 반사됩니다._

## 주변 폐색 (SSAO) {#ambient-occlusion-ssao}
앰비언트 오클루전은 빛이 잘 닿지 않는 영역(모서리 등)을 어둡게 만듭니다.  
이 효과는 모델의 기하 구조에만 의존합니다.

* `Strength` - 효과의 강도.
* `Size` - 효과가 퍼지는 범위.
* `Curvature bias` - 표면 변화에 대한 민감도.
* `Color` - 오클루전에 곱해지는 색상 틴트로, 크리에이티브한 효과에 사용됩니다.


| SSAO off                    | SSAO on                    |
| :-------------------------: | :------------------------: |
| ![](/images/ssao_off.webp) | ![](/images/ssao_on.webp) |

::: tip
AO는 주로 환경광에 의해 조명되는 영역에서 가장 잘 보입니다. 강한 직접광이 닿는 영역에서는 AO 효과가 훨씬 약해집니다.

:::

## 피사계 심도 (DOF) {#depth-of-field-dof}
초점이 맞지 않는 영역에 블러 효과를 추가합니다.

모델을 탭하여 초점 위치를 변경할 수 있습니다.

* `Far blur` - 초점보다 먼 영역에 적용되는 블러 양.
* `Near blur` - 카메라와 초점 사이 영역에 적용되는 블러 양.


| DOF off                   | DOF focus on far ring       | DOF focus on close ring    |
| :-----------------------: | :-------------------------: | :------------------------: |
| ![](/images/dof_off.webp) | ![](/images/dof_near.webp) | ![](/images/dof_far.webp) |


## 블룸 {#bloom}
Bloom은 장면의 밝은 영역이 빛나 보이게 만듭니다.

* `Intensity` - 효과의 강도.
* `Radius` - 효과가 퍼지는 범위.
* `Threshold` - 어느 정도 밝기 이상의 픽셀이 Bloom을 시작할지 결정합니다. 값을 낮추면 거의 모든 것이 Bloom되고, 값을 높이면 가장 밝은 픽셀만 Bloom됩니다.
* `Color` - 크리에이티브한 효과를 위해 Bloom에 더할 수 있는 색상 틴트.

| Bloom off                    | Bloom with radius 0         | Bloom with radius 1         |
| :--------------------------: | :-------------------------: | :-------------------------: |
| ![](/images/bloom_off.webp) | ![](/images/bloom_r0.webp) | ![](/images/bloom_r1.webp) |


## 톤 매핑 {#tone-mapping}
톤 매핑은 HDR 값을 `[0, 1]` 범위로 다시 매핑하는 작업입니다.  
이를 사용하지 않거나 `none`을 선택하면, 1보다 큰 모든 색상 성분은 클리핑됩니다.  
이 범위를 넘어서는 색상 변화는 모두 손실됩니다.

* `None/Neutral/Agx/ACES` - 사용할 톤 매퍼를 선택합니다. `None`은 재매핑을 하지 않지만(다른 컨트롤은 여전히 동작), 나머지 옵션은 서로 다른 필름을 사용하는 것과 비슷하게, 과다 노출 값과 색을 서로 다른 방식으로 처리합니다. 매우 깊은 주제이므로, 자세한 내용은 tone mapping, Agx, ACES 등을 찾아보세요.
* `Exposure` - 이미지 전체 밝기. 카메라의 조리개를 조절하는 것과 비슷합니다. 이미지를 전반적으로 빠르게 밝게/어둡게 만드는 데 유용합니다.
* `Saturation` - 색의 강도. 1은 중립, 0은 흑백, 1보다 크면 점점 더 채도가 강해집니다.
* `Contrast` - 어두운 부분은 더 어둡게, 밝은 부분은 더 밝게 만듭니다. 값을 너무 높이면 아티팩트가 생길 수 있으니 주의해서 사용하세요.

`Tone Mapping`을 끄면, 픽셀이 너무 밝아져 일부 디테일이 사라지는 것을 볼 수 있습니다.

| Tone Mapping off            | Tone Mapping on            |
| :-------------------------: | :------------------------: |
| ![](/images/tone_off.webp) | ![](/images/tone_on.webp) |

::: tip
톤 매핑은 글로벌 일루미네이션 효과를 강화할 수 있습니다. 환경 맵의 강도를 낮추고, 기본 광원 강도를 높인 뒤, 톤 매핑의 `exposure`를 올리면 바운스 라이트 효과를 더 잘 볼 수 있습니다.
:::

## 컬러 그레이딩 {#color-grading}
포토샵의 커브 도구와 비슷하게, 이미지의 색 균형과 분포를 제어할 수 있습니다. `main` 컨트롤은 전체 색 균형에 영향을 주고, `red`/`green`/`blue` 컨트롤은 각 채널을 세밀하게 조정합니다. 

| Color Grading off             | Color Grading on             |
| :---------------------------: | :--------------------------: |
| ![](/images/grading_off.webp) | ![](/images/grading_on.webp) |

## 커버처 {#curvature}
곡률이 급격히 변하는 영역을 감지하여, 그 부분에 색을 입힙니다.

* `Factor` - 효과의 전체 강도
* `Bump` - 날카로운 볼록(凸) 변화(엣지)를 얼마나 강하게 찾아 선택한 색(기본값: 흰색)을 배치할지
* `Cavity` - 오목(凹)한 변화(홈)를 얼마나 강하게 감지해 선택한 색(기본값: 검은색)을 배치할지


| Curvature off                    | Curvature on                   |
| :------------------------------: | :----------------------------: |
| ![](/images/curvature_off.webp) | ![](/images/curvature_on.webp) |


## 색수차 {#chromatic-aberration}
화면 가장자리에서 빛이 분해되는 렌즈 아티팩트를 시뮬레이션합니다.

* `Strength` - 화면 가장자리로 갈수록 이미지의 빨강/초록/파랑 채널이 얼마나 분리될지

| Chromatic off                 | Chromatic on                 |
| :---------------------------: | :--------------------------: |
| ![](/images/chroma_off.webp) | ![](/images/chroma_on.webp) |


## 비네트 {#vignette}
화면 가장자리를 어둡게 만들어 렌즈 아티팩트를 시뮬레이션합니다.

* `Size` - 이미지 위에 놓이는 반전된 타원(ellipse)의 크기
* `Hardness` - 이 타원이 이미지 위에 얼마나 부드럽게/날카롭게 섞일지


| Vignette off                    | Vignette on                    |
| :-----------------------------: | :----------------------------: |
| ![](/images/vignette_off.webp) | ![](/images/vignette_on.webp) |

## 그레인 {#grain}
그레인(필름 입자) 효과를 추가합니다. 이미지를 덜 인공적으로 보이게 하는 데 도움이 될 수 있습니다.

* `Strength` - 이미지에 추가되는 그레인/노이즈의 양.


| Grain off                    | Grain on                   |
| :--------------------------: | :------------------------: |
| ![](/images/grain_off.webp) | ![](/images/grain_on.webp) |


## 선명도 {#sharpness}
포토샵이나 사진 보정 앱에 있는 것과 비슷한 샤프닝 효과입니다.

* `Strength` - 이미지에 적용되는 샤프닝의 양.


| Sharpness off                  | Sharpness on                 |
| :----------------------------: | :--------------------------: |
| ![](/images/sharpen_off.webp) | ![](/images/sharpen_on.webp) |

## 픽셀 아트 {#pixel-art}
레트로 게임의 픽셀 아트 스타일을 시뮬레이션합니다.

* `Slider` - 픽셀 크기
* `Allow frame sampling` - 검은 픽셀이 많이 생긴다면, 이 옵션을 켜 보세요. 기본 샘플링 설정을 무시하고 다른 방식으로 처리합니다.

| Pixel off                   | Pixel on                   |
| :-------------------------: | :------------------------: |
| ![](/images/pixel_off.webp) | ![](/images/pixel_on.webp) |

## 스캔라인 {#scanline}
옛 CRT 모니터의 화면 느낌을 시뮬레이션합니다.

* `Factor` - 줄무늬(스캔라인)의 강도
* `Spacing` - 줄무늬의 간격/크기

| Scanline off                   | Scanline on                   |
| :----------------------------: | :---------------------------: |
| ![](/images/scanline_off.webp) | ![](/images/scanline_on.webp) |


## 디더링 {#dithering}

디더링을 통해 밴딩 아티팩트를 줄입니다. 일반적으로는 켜 두는 것이 좋지만, 깊이 맵 내보내기처럼 특정 데이터 전용 작업에서는 끌 수 있습니다.