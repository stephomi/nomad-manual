# ![](/icons/paint.webp) การระบายสี  

ควบคุมสี ความหยาบ ความเป็นโลหะของลายพู่กัน อนุญาตให้เติมค่าการระบายสีแบบท่วม (flood fill) และกำหนดว่าทูลระบายสีจะโต้ตอบกับเลเยอร์ มาสก์ และการเลือกที่ถูกซ่อนไว้อย่างไร

![](/images/paint_overview.webp)  

## ภาพรวม

Nomad ใช้การระบายสีแบบ PBR บนเวอร์เท็กซ์ แล้วมันหมายความว่าอย่างไร?

### PBR
PBR หรือ Physically Based Rendering เป็นเทคนิคกราฟิกคอมพิวเตอร์ยอดนิยมที่ใช้ในภาพยนตร์ โทรทัศน์ เกม และมือถือ โดยอิงแสงจากคุณสมบัติทางกายภาพ และกำหนดพื้นผิวผ่านสี ความหยาบ ความเป็นโลหะ ทำให้สามารถสร้างลุคสมจริงได้หลากหลาย

### การระบายสีเวอร์เท็กซ์

การระบายสีเวอร์เท็กซ์หมายความว่าข้อมูลสีจะถูกเก็บไว้ในเวอร์เท็กซ์ของโมเดล แทนที่จะอยู่ในเท็กซ์เจอร์ เนื่องจาก Nomad สามารถจัดการโมเดลที่มีเวอร์เท็กซ์หลายแสนถึงหลายล้านจุดได้ โมเดลของคุณจึงควรมีรายละเอียดพื้นผิวที่ระบายสีได้สูงมาก ถ้าคุณสามารถปั้นรายละเอียดได้ คุณก็สามารถระบายสีรายละเอียดนั้นได้เช่นกัน

สิ่งนี้ยังหมายความว่าการระบายสีใน Nomad ไม่ต้องการการทำ UV mapping ซึ่งมักเป็นกระบวนการที่ช้าและเทคนิคสูงในแอป 3D อื่น ๆ หลายแอป 3D อื่นไม่รองรับจำนวนเวอร์เท็กซ์สูงเท่ากับ Nomad อย่างไรก็ตาม Nomad ก็มีเครื่องมือ bake เท็กซ์เจอร์และ decimation ที่ดีเพื่อช่วยในส่วนนี้ด้วย

### การทำเท็กซ์เจอร์

Nomad รองรับเท็กซ์เจอร์ แต่ต้องมีอยู่แล้วในโมเดลที่นำเข้า หรือผ่านการ bake การระบายสีเวอร์เท็กซ์ไปเป็นเท็กซ์เจอร์  

เท็กซ์เจอร์ก็คือรูปภาพธรรมดา ๆ แต่ในบริบท 3D มักหมายถึงรูปภาพที่ถูกกำหนดให้กับวัตถุหนึ่ง ๆ  
เพื่อจะพันรูปภาพไปรอบ ๆ โมเดล โมเดลจำเป็นต้องมีพิกัดเท็กซ์เจอร์ (UV)

Nomad สามารถคำนวณ [UV ให้อัตโนมัติ](topology.md#uv-unwrap) แต่คุณจะควบคุมคุณภาพโดยรวมได้ไม่มากนัก

::: tip
ตัวอย่างเวิร์กโฟลว์หนึ่ง:
- ปั้นใน Nomad จากนั้นทำ [UV unwrap](topology.md#uv-unwrap)
- ถ้าคุณเริ่มระบายสีใน Nomad ไปแล้ว คุณสามารถ [ถ่ายโอนการระบายสีเวอร์เท็กซ์ไปเป็นเท็กซ์เจอร์](topology.md#bake-vertex-colors-to-texture)
- ส่งออกไปยัง Procreate
- ทำเท็กซ์เจอร์ใน Procreate
- ส่งกลับเข้า Nomad เพื่อใช้ในการเรนเดอร์
:::

นี่คือภาพรวม ตอนนี้มาดูส่วนต่าง ๆ ของเมนูการระบายสีกัน:


## การระบายสีด้วยเส้นพู่กัน
![](/images/paint_intensity.webp)  

เปิดการระบายสีสำหรับทูลนี้ มีประโยชน์ถ้าคุณต้องการปั้นและระบายสีไปพร้อมกัน

สำหรับทูลที่การระบายสีเป็นหน้าที่หลัก (เช่น Paint, Smudge, Mask) จะไม่มีเช็กบ็อกซ์นี้

### ความเข้มของสี (Paint intensity)

สไลเดอร์ที่ให้คุณใช้ความเข้มที่ต่างจากความเข้มหลักของทูลได้

เช็กบ็อกซ์ `Alpha`, `Falloff` และ `Randomize` จะกำหนดว่าฟีเจอร์เหล่านั้นจะมีผลกับการระบายสีหรือไม่ เช่น คุณอาจเปิด randomize สำหรับทูล Clay แต่สีจะไม่ถูกสุ่ม

## วัสดุ (Material)
![](/images/paint_material.webp) 

ไอคอนแรกคือรูปทรงพรีวิววัสดุแบบ 3D การลากบนพรีวิววัสดุ 3D จะหมุนมันได้  

ไอคอนที่สองคือพรีวิวลายพู่กันพร้อมตัวเลือก alpha และ falloff ที่เลือกไว้

ปุ่มพรีวิวถัดจากหัวข้อ Material ให้คุณสลับระหว่าง None, Material หรือ Triplanar สิ่งนี้จะกำหนดว่าจะเกิดอะไรขึ้นเมื่อคุณเปลี่ยนคุณสมบัติสีแบบอินเทอร์แอคทีฟ:

* `None` - จะไม่มีพรีวิวแสดงบนโมเดลเมื่อคุณปรับค่าต่าง ๆ
* `Material` - ค่าวัสดุจะถูกพรีวิวบนวัตถุเมื่อคุณปรับค่า ถ้าคุณใช้เท็กซ์เจอร์และโมเดลมี UV จะใช้ UV เหล่านั้น
* `Triplanar` - วัสดุจะถูกพรีวิวแบบฉายภาพ Triplanar

ไอคอนหลอดดูดสีสามารถใช้ดูดตัวอย่างคุณสมบัติทั้งหมดจากวัตถุในฉากของคุณได้

## พรีเซ็ตวัสดุ
การแตะที่รูปทรงพรีวิว 3D จะเปิดเมนูพรีเซ็ตวัสดุ ซึ่งสามารถโคลนเพื่อกำหนดพรีเซ็ตของคุณเองได้

![](/images/paint_presets.webp) 

ตัวสลับ `Embed Textures` และ `Alpha` เมื่อเปิดไว้จะเก็บเท็กซ์เจอร์ใด ๆ ที่ใช้โดยวัสดุนั้นไว้ในพรีเซ็ตด้วย จะอธิบายเพิ่มเติมด้านล่าง

## สไลเดอร์ PBR
![](/images/paint_sliders.webp) 

การระบายสีแบบ [PBR](shading.md#pbr) ใช้ 4 แชนเนล:
- `Color` สีที่จะถูกระบาย หลอดดูดสีสามารถใช้เลือกสีจากส่วนอื่นของโมเดล หรือจากภาพอ้างอิงได้
- `Roughness` บอกว่าพื้นผิว "หยาบ" หรือ "เรียบ" แค่ไหน ค่า roughness ต่ำหมายถึงการสะท้อนจะคมชัด
- `Metalness` บอกอย่างง่าย ๆ ว่าพื้นผิวเป็นโลหะหรือไม่ ส่วนใหญ่ค่าควรเป็น 0% หรือ 100% ค่ากลางควรใช้ในกรณีพิเศษเท่านั้น
- `Opacity` ความทึบแสงของวัสดุ 1 คือทึบแสงสนิท 0 คือโปร่งใส โดยเคร่งครัดแล้วมันไม่ใช่ส่วนหนึ่งของสเปก PBR แต่มีประโยชน์ในหลายสถานการณ์ โปรดทราบว่าความทึบแสงและการหักเหแสง (refraction) เป็นคนละอย่างกัน การหักเหแสงใน Nomad จัดการผ่านวัสดุแบบ refraction

ถ้าคุณเลือกพรีเซ็ตวัสดุ 3 แชนเนลจะถูกระบายพร้อมกัน (มักตั้งใจไม่รวม opacity) นั่นหมายความว่าแทนที่จะระบายแค่ "สีแดง" คุณสามารถระบาย "โลหะสีแดงหยาบ" หรือ "พลาสติกสีขาวเรียบ" ได้

สี่เหลี่ยมคือช่องเท็กซ์เจอร์ คลิกเพื่อใช้เท็กซ์เจอร์สำหรับคุณสมบัตินั้นแทนค่าคงที่

ไอคอนแปรงถัดจากสไลเดอร์จะทำการเติมค่าคุณสมบัตินั้นทั้งวัตถุ (flood fill)

เช็กบ็อกซ์จะเปิดหรือปิดคุณสมบัตินั้น ๆ ดังนั้นคุณอาจระบายแค่สี หรือระบายเฉพาะ roughness และ opacity ก็ได้ เช่นกัน

ด้านล่างคือตัวอย่างคุณสมบัติ roughness และ metalness ที่ต่างกัน:

|                | Metalness 0%                      | Metalness 100%               |
| :------------: | :-------------------------------: | :--------------------------: |
| Roughness 0%   | ![](/images/dielectric_r0.webp)   | ![](/images/metal_r0.webp)   |
| Roughness 50%  | ![](/images/dielectric_r50.webp)  | ![](/images/metal_r50.webp)  |
| Roughness 100% | ![](/images/dielectric_r100.webp) | ![](/images/metal_r100.webp) |

::: warning
รองรับเฉพาะสีในโหมด [Matcap rendering](shading.md#matcap) เท่านั้น ค่า metalness และ roughness จะถูกละเลย
:::

::: tip
เมื่อใช้เท็กซ์เจอร์สำหรับการระบายสีแบบ PBR มักมีประโยชน์ที่จะสลับไปใช้ทูลอย่าง `Stamp` หรือใช้เมนู Stroke เพื่อใช้โหมดอื่นที่ไม่ใช่ dot ซึ่งอาจทำให้เท็กซ์เจอร์ถูกปาดเลอะได้

![](/videos/paint_color_texture.mp4)  
:::

::: tip
คุณอาจพิจารณาเปิด `Smooth Shading` [แบบทั่วทั้งซีน](settings.md#smooth-shading) หรือ [ต่อวัตถุ](material.md#smooth-shading) ถ้าคุณกำลังระบายพื้นผิวโลหะบนวัตถุที่มีโพลิก้อนค่อนข้างต่ำ
:::

## Paint all

![](/images/paint_paint_all.webp)

ใช้วัสดุปัจจุบันกับวัตถุ ทั้งในโหมดปกติด้วย 'Paint All' หรือแบบฉายภาพ Triplanar

เช็กบ็อกซ์ถัดจากสไลเดอร์ color/metalness/roughness/opacity จะถูกนำมาพิจารณา คุณสมบัติที่ปิดอยู่จะไม่ถูกเติมค่า

ปุ่มเพิ่มเติมจะควบคุมว่าการ Paint All จะถูกมีผลเพิ่มเติมอย่างไร:

| Icon                        | Description                                   |
| :-------------------------: | :-------------------------------------------: |
| ![](/icons/tool_mask.webp) | พื้นที่ที่ถูกมาสก์จะไม่ถูกกระทบ              |
| ![](/icons/tool_hide.webp) | พื้นที่ที่ถูกซ่อนจะไม่ถูกกระทบ               |
| ![](/icons/opacity.webp)   | ใช้ค่าปัจจัยการระบายสีของทูลด้านบน           |
| ![](/icons/layer.webp)     | พื้นที่ที่ยังไม่ถูกระบายสีของเลเยอร์จะไม่ถูกกระทบ |
| ![](/icons/triplanar.webp) | ตัวบ่งชี้การตั้งค่า triplanar                |
| ![](/icons/cog.webp)       | เปิดการตั้งค่า Triplanar                      |

### การตั้งค่า Triplanar
![](/images/paint_triplanar_settings.webp)

คล้ายกับ [การตั้งค่า triplanar ในเมนูวัสดุ](material.md#triplanar) คุณสามารถควบคุมการผสมของการฉายภาพ การไทล์ และออฟเซ็ตได้  

ใช้เช็กบ็อกซ์พรีวิวที่ด้านบนของเมนูนี้เพื่อเปิดพรีวิวแบบคงอยู่ขณะปรับค่า

## วัสดุแบบ Global
ถ้าเปิดตัวเลือกนี้ วัสดุที่เลือกจะเหมือนกันกับทูลอื่น ๆ โปรดทราบว่ามันจะคำนึงถึงเฉพาะการตั้งค่า roughness, metalness และ color เท่านั้น
