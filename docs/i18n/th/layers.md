# ![](/icons/layer.webp) เลเยอร์ 

เมนูนี้มีสแตกของเลเยอร์ ซึ่งเป็นวิธีเก็บการแก้ไขวัตถุของคุณแบบไม่ทำลายต้นฉบับ และมีหลายวิธีในการผสมและนำเลเยอร์ไปใช้ซ้ำ

![](/images/layers_overview.webp) 

## ภาพรวม

เลเยอร์ของ Nomad มีหลายหน้าที่

ข้อมูลการเพนต์ (สี ความหยาบ ความเป็นโลหะ ความทึบแสง) ทำงานกับเลเยอร์คล้ายกับโปรแกรมเพนต์ 2 มิติ สามารถสร้างเลเยอร์แล้วเพนต์ลงบนโมเดลได้ เลเยอร์สามารถเปิด/ปิด ปรับความทึบซ้อน ทำซ้ำ เปลี่ยนลำดับในสแตกของเลเยอร์ และปรับโหมดการผสมได้

Nomad ยังใช้เลเยอร์สำหรับการปั้น (sculpt) ด้วย เลเยอร์หนึ่งสามารถเก็บรายละเอียดเล็ก ๆ เช่น ริ้วรอย หรือเก็บการเปลี่ยนแปลงขนาดใหญ่ ทำให้มันทำงานคล้าย blendshape/shape key/morph target ในโปรแกรม 3 มิติอื่น ๆ ตัวอย่างเช่น คุณสามารถปั้นสีหน้าต่าง ๆ ไว้บนเลเยอร์ต่างกัน แล้วปรับสไลเดอร์ของเลเยอร์เพื่อผสมให้เกิดสีหน้าใหม่ ๆ

ในกรณีนี้ การเปลี่ยนแปลงที่เก็บในเลเยอร์จะเป็นแบบบวกเพิ่ม (additive) ล้วน ๆ ลำดับของเลเยอร์จึงไม่สำคัญเหมือนตอนใช้กับการเพนต์

เลเยอร์สามารถลบออกบางส่วนได้ด้วยเครื่องมือ [Delete Layer](tools.md#delete-layer) และเลเยอร์ยังสามารถใช้สร้างมาสก์จากข้อมูลต่าง ๆ ที่เก็บอยู่ในเลเยอร์ได้ด้วย

![](/videos/layer.mp4)

::: tip
ต่างจากซอฟต์แวร์ปั้นส่วนใหญ่ การเปลี่ยน topology ของเมชจะไม่ทำให้เลเยอร์หายไป คุณสามารถใช้ [Voxel Remesher](topology.md#voxel-remesher), [Multiresolution](topology.md#multiresolution) หรือเครื่องมือ [Trim](tools.md#trim)/[Split](tools.md#split) ได้ แต่โปรดทราบว่าเมื่อใช้ [Voxel Remesher](topology.md#voxel-remesher) คุณภาพของเลเยอร์จะได้รับผลกระทบ
:::

::: tip
หากใช้เลเยอร์เป็น blendshape/morph target จะมีฟังก์ชันเลเยอร์เพิ่มเติมใน [เมนูซีน](scene.md#object-menu) คุณสามารถแยกเลเยอร์ออกเป็นอ็อบเจ็กต์ และรวมอ็อบเจ็กต์ที่ตรงกันกลับเข้าเป็นเลเยอร์ได้
:::
----

## เมนูเลเยอร์ 

![](/images/layers_menu.webp)

กด `Add layer` เพื่อสร้างเลเยอร์ใหม่

แต่ละเลเยอร์จะมีชื่อ สไลเดอร์ควบคุมความแรง/แฟกเตอร์ และปุ่มตัวเลือก

### ตัวเลือก

| Action       | Icon                         | Description                                         |
| :----------: | :--------------------------: | :-------------------------------------------------  |
| Visible      | ![](/icons/eye_open.webp)   | แสดง/ซ่อนเลเยอร์                                  |
| Blend Mode   | ![](/icons/opacity.webp)    | โหมดการผสมแบบสไตล์ Photoshop ไอคอนทั้ง 4 แสดงโหมดสำหรับ Color, Roughness, Metalness, Opacity |
| Edit Name    | ![](/icons/pencil.webp)     | แก้ไขชื่อเลเยอร์                                   |
| Delete       | ![](/icons/trash.webp)      | ลบเลเยอร์                                          |
| Duplicate    | ![](/icons/clone.webp)      | ทำซ้ำเลเยอร์                                       |
| Merge Down   | ![](/icons/merge_down.webp) | รวมเลเยอร์เข้ากับเลเยอร์ด้านล่าง (หรือเมชฐาน)   |
| More         | ![](/icons/more.webp)       | ตัวเลือก [More...](#more)                          |

หากต้องการย้ายเลเยอร์ไปตำแหน่งอื่นในสแตก ให้กดค้างที่ชื่อเลเยอร์แล้วลาก

### More...

ปุ่ม 'More...' จะแสดงตัวเลือกเพิ่มเติมสำหรับเลเยอร์ปัจจุบัน:

![](/images/layers_more.webp) 

#### Channel factors

ตัวควบคุมเหล่านี้ใช้ปรับสเกลปริมาณของ sculpt/color/roughness/metalness/opacity สำหรับเลเยอร์ ค่าพวกนี้จะถูกคูณกับสไลเดอร์แฟกเตอร์ของเลเยอร์ ดังนั้นตัวอย่างเช่น ถ้าความแรงของเลเยอร์เป็น 1 แต่แฟกเตอร์ของช่องสีเป็น 0.5 สีที่แสดงจะมีความแรง 0.5

`Offset` ใช้ควบคุมความแรงของการปั้นในเลเยอร์ ขณะที่ color/roughness/metalness จะถูกจำกัดอยู่ระหว่าง 0 ถึง 1 ค่า offset สามารถเป็นค่าใดก็ได้ ทั้งบวกและลบ

::: tip
Offset สามารถใช้เปลี่ยนเลเยอร์ที่เป็นปุ่มนูนให้กลายเป็นเลเยอร์ร่องลึก หรือเปลี่ยนรอยยิ้มให้เป็นรอยบึ้งได้:
![](/videos/layer_happysad.mp4)


เลเยอร์ที่สมมาตรสามารถโคลนแล้วแยกเป็นรูปด้านซ้าย/ขวาด้วย del layer:
![](/videos/layer_leftright.mp4)

เลเยอร์ที่มีค่า offset ติดลบสามารถ bake ลงเป็นเลเยอร์ว่างเพื่อสร้างรูปทรงบวกใหม่ได้

เลเยอร์ที่มีค่า offset บวกมากกว่า 1 สามารถใช้ทดลอง blendshape ที่สุดขั้วมากขึ้นได้
:::

::: warning
ตอนนี้เลเยอร์มีช่อง opacity เพียงช่องเดียวที่ใช้ร่วมกันสำหรับทั้ง 3 ช่อง (color/metalness/roughness)
หากคุณรวมเลเยอร์หลายอันที่มีความเข้มต่อช่อง (per-channel intensity) ไม่เต็ม 1 เข้าด้วยกัน เป็นไปได้ว่าผลลัพธ์สุดท้ายอาจดูต่างออกไป

ในอนาคตอาจมีการเพิ่ม alpha แยกให้แต่ละช่องเพื่อเอาข้อจำกัดนี้ออก
:::


#### ![](/icons/tool_mask.webp) Mask
ปุ่มมาสก์ข้างสไลเดอร์แต่ละตัวจะสร้างมาสก์จากช่องนั้น คล้ายกับการใช้เลเยอร์สร้าง selection ในโปรแกรมเพนต์ ทำให้คุณนำงานที่ทำไว้ในเลเยอร์ไปใช้ซ้ำกับการทำงานอื่นได้

#### ![](/icons/preview.webp) Preview
![](/images/layers_preview.webp) 

เมื่อเปิดใช้งาน จะพรีวิวการตั้งค่า extract สำหรับเลเยอร์นี้ (ดูหัวข้อถัดไป)

เมื่อเปิด xray รูปทรงที่ถูก extract เท่านั้นจะเป็นทึบ ส่วนที่เหลือของรูปทรงจะถูกทำให้โปร่งใส มีประโยชน์เมื่อคุณใช้ความสูงการ extract แบบติดลบ

#### Extract
![](/images/layers_extract.webp) 

![](/videos/layer_shell.mp4)

ปุ่ม `Extract` จะทำซ้ำเนื้อหาของเลเยอร์ไปเป็นอ็อบเจ็กต์ใหม่ โดยปกติจะมีความหนาที่ผู้ใช้กำหนดในส่วนถัดไป

`Closing action` กำหนดวิธีการทำซ้ำ:

* None - แค่ extract ส่วนที่เลือก ไม่พยายามสร้างด้านข้างหรือปิดรูใด ๆ
* Fill - ปิดรูและทำให้เรียบด้วยสามเหลี่ยม ห้ามใช้ตัวเลือกนี้กับพื้นผิวเรียบ
* Shell - ปิดรูปทรงที่ extract ด้วยค่าความหนาและตัวเลือกทิศทาง
* Layer - Extract ความแตกต่างของเลเยอร์

#### ![](/icons/height.webp) Thickness
![](/images/layers_thickness.webp) 

ความลึกของการดันเปลือก (shell extrusion) ค่าเป็นบวกจะดันออกจากพื้นผิว ค่าเป็นลบจะดันเข้าไปในพื้นผิว

ปุ่มบวก/ลบข้างค่านี้จะกำหนดทิศทางของการดัน:
* Minus ( - ) จะเริ่มจากพื้นผิวปัจจุบันแล้วดันลงไปด้านล่าง 
* Plus ( + ) จะเริ่มจากพื้นผิวปัจจุบันแล้วดันขึ้นด้านบน
* PlusMinus ( ± ) จะดันด้านบนและด้านล่างของการดันออกจากกันในระยะเท่ากัน ทำให้มันฝังอยู่ในพื้นผิวเดิมครึ่งหนึ่ง

#### Smoothness
![](/images/layers_smoothness.webp) 

หากขอบของบริเวณที่จะ extract เป็นรอยหยัก สไลเดอร์นี้จะพยายามเบลอขอบให้กลายเป็นรูปทรงที่เรียบขึ้น

#### ![](/icons/height.webp) Edge loop (side)
![](/images/layers_edgeloop.webp) 

ส่วนนี้จะแสดงเมื่อ closing action เป็น 'Shell' 

`Auto Edge-loop (side)` จะคำนวณจำนวน edge loop ตามด้านข้างของ shell เพื่อสร้างโพลิกอนสี่เหลี่ยม

หากปิดใช้งาน สไลเดอร์ `Division` จะกำหนดจำนวนส่วนแบ่งบนด้านข้าง

_นี่คือจุดสิ้นสุดของเมนูย่อย 'More...'_

### ขั้นสูง
![](/images/layers_advanced.webp)

#### Keep top layers details

ทำให้แน่ใจว่ารายละเอียดเล็ก ๆ บนเลเยอร์ที่อยู่สูงกว่าจะยังคงมองเห็นได้เมื่อมีการเปลี่ยนแปลงขนาดใหญ่บนเลเยอร์ที่อยู่ต่ำกว่า

โดยปกติ หากคุณปั้นริ้วรอยเล็ก ๆ บนเลเยอร์หนึ่ง แล้วไปทำการเปลี่ยนแปลงขนาดใหญ่บนเลเยอร์ฐาน ริ้วรอยเหล่านั้นจะหายไป การเปิดสวิตช์นี้จะทำให้รายละเอียดเล็ก ๆ เหล่านั้นลอยอยู่เหนือการเปลี่ยนแปลงขนาดใหญ่ด้านล่างเสมอ ในวิดีโอต่อไปนี้ ให้ดูว่ารายละเอียดริ้วรอยถูกลบออกไปตามปกติ แต่ยังคงมองเห็นได้เมื่อเปิด 'keep top layers details':

![](/videos/layers_details.mp4)


#### UI: Expand list

เมนูเลเยอร์แบบปกติจะให้คุณสลับการมองเห็นเลเยอร์และความทึบของเลเยอร์ การเปิดตัวเลือกนี้จะขยายให้แสดงตัวควบคุมทั้งหมดของทุกเลเยอร์

![](/images/layers_expand.webp)

#### Sync transform

หากเปิดใช้งาน เลเยอร์ที่ไม่ได้ถูกเลือกทั้งหมดจะถูกปรับตามการหมุน สเกล และ skew ของทรานส์ฟอร์ม

ปิดตัวเลือกนี้หากเลเยอร์อื่น ๆ ตั้งใจจะถูกใช้โดยไม่รับทรานส์ฟอร์มใหม่ที่คุณกำลังใช้

เมื่อตั้งเป็น `Auto` เฉพาะเลเยอร์ที่มองเห็นได้เท่านั้นที่จะถูกปรับ
