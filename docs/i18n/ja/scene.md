# ![](/icons/scene.webp) シーン {#scene}

このメニューでは、Nomad 内のオブジェクト、ライト、カメラ、リピーターを管理できます。シーン階層がツリービューとして表示され、オブジェクトのさまざまな要素を編集できます。新しいオブジェクトの作成や、複数オブジェクトの結合・分離も行えます。


![](/images/scene_menu_summary.webp)


## ショートカットバー {#shortcut-bar}
| アクション              | アイコン                           | 説明                                                                                                              |
| :--------------------: | :-------------------------------: | :----------------------------------------------------------------------------------------------------------------: |
| [追加...](#add-menu)   | ![](/icons/plus.webp)            | シーンにオブジェクトを追加するための [追加メニュー](#add-menu) を表示                                              |
| 削除                   | ![](/icons/trash.webp)           | オブジェクトを削除                                                                                                 |
| ロック                 | ![](/icons/lock.webp)            | ビューポートでオブジェクトを選択不可にする。ツリービューからは選択可能。                                           |
| 結合                   | ![](/icons/merge.webp)           | 選択中のオブジェクトを、ジオメトリを変更せず 1 つのオブジェクトに結合                                              |
| 分離                   | ![](/icons/diagonal.webp)        | オブジェクトが複数の独立したポリゴンシェルで構成されている場合、それぞれを別オブジェクトに分割。結合操作の逆。      |
| [ブーリアン...](#boolean) | ![](/icons/subtract_circle.webp) | [ブーリアン](#boolean) メニューを表示                                                                              |
| クローン               | ![](/icons/clone.webp)           | オブジェクトを複製して新しいオブジェクトを作成                                                                     |
| インスタンス           | ![](/icons/link.webp)            | オブジェクトをインスタンスとして複製し、1 つを編集するとすべてのインスタンスに変更が反映されるようにする            |
| インスタンス解除       | ![](/icons/unlink.webp)          | インスタンスを一意の形状に変換し、以後の編集が他のインスタンスにコピーされないようにする                          |
| 同期                   | ![](/icons/link.webp)            | インスタンスに子オブジェクトがある場合、すべてのインスタンスが同じ子階層を共有するようにする                      |


## ツリービュー {#tree-view}
![](/images/scene_treeview.webp) 

| アクション   | アイコン                    | 説明                     |
| :----------: | :------------------------: | :----------------------: |
| 選択         | ![](/icons/checked.webp)  | 選択／非選択を切り替え   |
| 表示         | ![](/icons/eye_open.webp) | 表示／非表示を切り替え   |
| メニュー     | ![](/icons/more.webp)     | オブジェクトメニュー表示 |

::: tip ヒント: 多数のオブジェクトを素早く選択・非表示にする

選択アイコンをタップすると単一オブジェクトの切り替え、選択列を縦にドラッグすると複数オブジェクトを一度に選択できます。表示列でも同様の操作が可能です。

:::

### ツリービューの操作 {#tree-view-manipulation}

ツリービュー内の項目を長押しし、黄色になるまで待ちます。その後、ツリービュー内で上下に移動したり、別の項目の上にドラッグしてその子にすることができます。

複数項目が選択されている場合、ほとんどは濃い黄色で表示され、1 つだけが薄い黄色になります。薄い黄色の項目を長押ししてドラッグすると、すべてのオブジェクトをまとめて移動できます。

親項目を選択すると、デフォルトではその子項目もすべて選択されます。親アイコンをタップすると、「親のみ選択」と「親＋子を選択」を切り替えられます。

### オブジェクトメニュー {#object-menu}

ツリービュー内のオブジェクトの三点リーダーボタン（...）をクリックすると、オブジェクトメニューが表示されます。  
多くのオプションは、上部のショートカットバーと同様で、利便性のために重複しています。

|       アクション       |                        アイコン                        | 説明                                                                                                                                                             |
| :--------------------: | :----------------------------------------------------: | :-------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| インスタンス           |               ![](/icons/link.webp)                  | オブジェクトをインスタンスとして複製し、1 つを編集するとすべてのインスタンスに変更が反映されるようにする                                                        |
| クローン               |              ![](/icons/clone.webp)                  | オブジェクトを複製して新しいオブジェクトを作成                                                                                                                  |
| 名前                   |              ![](/icons/pencil.webp)                 | オブジェクト名を変更                                                                                                                                             |
| 削除                   |              ![](/icons/trash.webp)                  | オブジェクトを削除                                                                                                                                               |
| 削除+                  |            ![](/icons/removeNode.webp)               | オブジェクトとその子オブジェクトを削除                                                                                                                          |
| インスタンス解除       |              ![](/icons/unlink.webp)                 | インスタンスを一意の形状に変換し、以後の編集が他のインスタンスにコピーされないようにする                                                                        |
| トポロジ分離           |             ![](/icons/separate.webp)                | オブジェクトが複数の独立したポリゴンシェルで構成されている場合、それぞれを別オブジェクトに分割。結合操作の逆。                                                  |
| フェイスグループ分離   |            ![](/icons/faceGroup.webp)                | オブジェクトに複数のフェイスグループがある場合、メッシュをそれぞれ別オブジェクトに分割                                                                          |
| レイヤー分離           |              ![](/icons/layer.webp)                  | オブジェクトにレイヤーがある場合、各レイヤーを別オブジェクトに分割。ブレンドシェイプを他アプリケーションへ送る際に有用。                                        |
| 結合 -> レイヤー       | ![](/icons/merge.webp) -> ![](/icons/layer.webp) <span style="visibility:hidden">_________</span> | 複数オブジェクトが選択され、かつトポロジが一致している場合、それらをプライマリオブジェクトのレイヤーとして統合（他のオブジェクトは削除）。他アプリから来るブレンドシェイプに有用。<br><br> レイヤーはデフォルトで無効になっています。スライダーを調整する必要がある場合は有効にしてください。 |




### 複数選択 {#multiselection}
複数オブジェクトを選択すると、以下の 2 点に役立ちます:
- ギズモツールで複数オブジェクトを同時に移動
- 結合やブーリアン演算でオブジェクトをマージ

`複数選択` チェックボックスを有効にし、リスト内のオブジェクトをクリックすることで行えます。

::: tip クイック複数選択
ビューポート内では、`Smooth` ショートカットを押しながら別のメッシュをタップすることで複数選択も可能です。

選択中のオブジェクトが 2 つ以上ある場合、再度タップするとそのオブジェクトだけを選択解除できます。
:::

::: warning ギズモ機能の制限
複数選択中は、ギズモツールは常にマスキングを無視します。  
また、X/Y/Z 個別スケーリングは無効になります。

これは複数選択がメッシュ全体の変形のみを許可し、頂点単位の変形は行えないためです。  
将来的に改善される可能性があります。
:::


## 結合 {#join}
このオプションは、複数選択されたオブジェクトから単一のオブジェクトエントリを作成するだけです。

ビデオによる例は [分離](#separate) セクションで確認できます。

## ブーリアン {#boolean}
![](/images/scene_boolean_menu.webp) 
複数オブジェクトを 1 つのサーフェスに結合します。

`ボクセルマージ` はオブジェクトのボリュームを保持しつつ、表面に均一なポリゴンを再計算します。計算ステップがあるため複雑なジオメトリにも対応できますが、ターゲット解像度が十分でないと細部が失われる可能性があります。

`ブーリアン` はポリゴンの元の配置をできるだけ維持し、オブジェクトが重なっている部分だけをステッチします。ボクセルマージよりもクリーンでシャープな結果になりやすい一方で、「ウォータタイト」なメッシュ（穴や不正形状がないこと）が必要です。失敗した場合は、通常ボクセルマージなら成功します。

### ブーリアン演算 {#boolean-operations}
ボクセルマージとブーリアンの両方で、オブジェクトの可視状態によって演算内容が決まります:

#### ユニオン（和） {#union}
両方のオブジェクトが可視の場合、ブーリアン **和 (union)** となり、オブジェクトの外皮が結合され、内部サーフェスは存在しません。![](/images/boolean_union.webp)

#### サブトラクト（差） {#subtract}
片方のオブジェクトが非表示の場合 = ブーリアン **差 (subtract)**。非表示オブジェクトが、表示オブジェクトから差し引かれます。![](/images/boolean_subtract.webp)

#### インターセクト（積） {#intersect}
両方のオブジェクトが非表示の場合 = ブーリアン **積 (intersection)**。2 つのオブジェクトが重なっている部分だけから新しい形状を作成します。![](/images/boolean_intersect.webp)


### ボクセルマージボタン {#voxel-merge-button}
このボタンを押すと、選択中オブジェクトに対してボクセルマージを実行します。単一オブジェクトに対して行うと、伸びたポリゴンを均一なポリゴンにリトポロジするのに便利です。

### 解像度 {#resolution}
計算に使用される 3D ボクセルグリッドの解像度です。この値を変更すると、ポリゴンサイズのプレビューとしてチェッカーボードパターンがオブジェクトにオーバーレイ表示されます。

### マルチレゾリューションを構築 {#build-multiresolution}
ターゲット解像度より下のマルチレゾリューションレベルを作成します。たとえば解像度が 400 で、マルチレゾ構築が 3 の場合、約 296,000 ポリゴンの新しいメッシュが作成され、その下に 74,000、18,000、4,000 ポリゴン程度の 3 つのサブディブレベルが付きます。

### シャープエッジを保持 {#keep-sharp-edges}
ボクセルメッシュをエッジにスナップさせる機能を有効にします。単純な形状で最も効果的です。

### ブーリアンボタン {#boolean-button}
このボタンを押すと、Emmett Lalish 氏の Manifold ライブラリを使用してポリゴンブーリアン演算を実行します。 


## 分離 {#separate}
複数の分離したパーツから構成される単一オブジェクトを、複数オブジェクトに分割できます。  
これは [シンプル結合](#simple-merge) の逆操作とみなせます。

![](/videos/merge_separate.mp4)


## 追加メニュー {#add-menu}

![](/images/scene_addmenu_overview.webp)

このメニューでは、プリミティブ、グループ、カメラ、リピーター、ライトを作成します。

プリミティブはパラメータで調整可能な基本形状です。必要な形状になるまでパラメータを調整し、その後「確定」すると、パラメータはポリゴンメッシュに焼き込まれ、スカルプトやペイントが可能になります。プリミティブは一度確定すると、パラメータを再編集することはできません。


![](/images/scene_addmenu_top.webp)

### ギズモ上 {#on-gizmo}
新しいプリミティブを、現在選択中の形状またはギズモの位置に配置するかどうかを切り替えます。無効の場合、プリミティブはシーンの中心に配置されます。

### ギズモを選択 {#select-gizmo}
新しいプリミティブ作成時に、自動的にギズモツールへ切り替えるかどうかを有効化します。 

### 詳細設定 {#add-advanced}

このメニューでは、新しいプリミティブ、グループ、リピーターをどこに作成するかの優先設定を行えます。選択オブジェクト上、ワールド原点、またはギズモ位置から選択できます。


### UV {#uvs}
プリミティブに UV を有効化します。UV（テクスチャ座標とも呼ばれる）は、サーフェスにテクスチャを適用するための追加データです。メモリを多く消費しますが、ほとんどのデバイスでは、非常に高ポリゴン（例: 1,000 万ポリゴン以上）にならない限り問題にならないはずです。 

### プリミティブ {#primitives}

| プリミティブ    | アイコン                                   | 説明                                                                                           |
| :-------------: | :---------------------------------------: | :--------------------------------------------------------------------------------------------: |
| Box             | ![](/icons/cube.webp)                    | シンプルな立方体。X, Y, Z 方向の分割数を制御可能                                               |
| Sphere          | ![](/icons/circle.webp)                  | 便宜上 Sphere と呼ばれますが、実際には `球へ投影` が強制された分割ボックスです                 |
| Cylinder        | ![](/icons/cylinder.webp)                | 中心に穴を追加でき、空洞のパイプなどを作成可能                                                 |
| Torus           | ![](/icons/torus.webp)                   | 指輪などのベース形状として便利なトーラス                                                        |
| Cone            | ![](/icons/cone.webp)                    | -                                                                                               |
| Icosahedron     | ![](/icons/icosahedron.webp)             | -                                                                                               |
| UV-sphere       | ![](/icons/circle.webp)                  | 不均一なポリゴン配置の球。 [下記の注意](#uv-sphere) を参照                                      |
| Plane           | ![](/icons/rectangle.webp)               | シンプルな平面。唯一「閉じていない」プリミティブ                                                |
| Tube            | ![](/icons/tool_tube.webp)               | [Tube](tools#tube) を参照                                                                       |
| Lathe           | ![](/icons/tool_lathe.webp)              | [Lathe](tools#lathe) を参照                                                                     |
| Triplanar       | ![](/icons/triplanar.webp)               | [Triplanar](#triplanar) を参照                                                                  |
| Shadow Catcher  | ![](/icons/material_shadow_catcher.webp) | [Shadow Catcher](#shadow-catcher) を参照                                                        |
| Head            | ![](/icons/face.webp)                    | 男性／女性をブレンドするレイヤーを持つシンプルな頭部                                            |

::: tip
Nomad 起動時のベースメッシュが何か気になる場合: これは分割ボックスです。  
ただし、Nomad のベースメッシュは `球へ投影` を使用していないため、完全な球形ではありません。
:::

### プリミティブツールバー {#primitive-toolbar}

![](/images/scene_primitive_toolbar.gif)

プリミティブを作成すると、そのパラメータを制御するツールバーが表示されます。

* `Validate` プリミティブを通常オブジェクトに焼き込み、スカルプトやペイントを可能にします。
* `Edit` プリミティブギズモの表示を切り替えます。これはプリミティブ上に直接表示され、キューブの幅やシリンダーの穴の半径などのパラメータを制御します。
* `Mirror` プリミティブの上にミラーリピーターを配置するかどうかを切り替えます。
* `...` プリミティブメニューを表示します。

プリミティブの種類によって、ツールバーに追加オプションが表示されます:

* `Project` Sphere は分割ボックスとして構築されており、スカルプトには適していますが完全な球形ではありません。このオプションを有効にすると、形状をより完全な球に近づけます。Icosahedron も同じオプションを共有します。
* `Cap` 形状の端面キャップを切り替えます。例: シリンダーの上面／下面／両方／なし。
* `Hole` 形状の中心に穴を開けるかどうかを切り替えます。穴なし、単一半径の穴、上下で異なる半径の穴を順に切り替えます。
* `Radius` シリンダーが単一半径か、上端と下端で異なる半径を持つかを切り替えます。
* `Disk` Plane を 4 辺形にするか、円形にするかを切り替えます。

メインツールバーの下にある小さなツールバーでは、プリミティブギズモとトランスフォームギズモの切り替えができます。

::: tip

ツールバーのタイトルをクリックすると、画面上部／下部の表示位置を切り替えられます。角の矢印をクリックすると折りたたみます。

:::


### プリミティブメニュー {#primitive-menu}

![](/images/scene_primitive_menu.webp)

ここには、選択中プリミティブのすべてのパラメータが含まれます。パラメータは形状の基本的な記述です。たとえばリングを記述するには、外半径、内半径、ポリゴン数などを指定します。

ほとんどのプリミティブパラメータは自明ですが、すべてのプリミティブに共通するパラメータもあります:

* `UVs` メニュー上部の小さな UVs ボタンで、UV 座標の生成を切り替えます。
* `Validate` 小さな Validate ボタンで、プリミティブを通常オブジェクトに焼き込み、スカルプトやペイントを可能にします。
* `Max faces` デバイスのクラッシュを防ぐため、オブジェクトのポリゴン数の上限を設定します。
* `Post subdivision` トポロジメニューのマルチレゾリューションセクションで選択したサブディブ数を有効にします。低いトポロジ分割と組み合わせることで、角の丸いスムーズなプリミティブを作成できます。例: Box のトポロジ分割を 2、Post subdivision を 4 にすると、角が滑らかなボックスになります。
* `Linear subdivision` 通常のスムーズサブディブ前に、線形サブディブを何レベル適用するかを設定します。これにより、分割サーフェスの角のシャープさ／柔らかさを制御できます。例: Box のトポロジ分割を 2、Post subdivision を 4 に設定し、Linear subdivision を 0〜4 の間で変更すると、ボックスの角が柔らかい状態からシャープな状態まで変化します。

### トポロジー {#topology}

プリミティブのポリゴン数を制御します。通常、コントロールはリンクされており、アクティブな 1 つのスライダーを変更すると、すべてのポリゴン数が均等に調整されます。リンクボタンをタップすると解除され、X/Y/Z 方向の分割数を個別に制御できます。

### ジオメトリ {#geometry}

プリミティブの全体サイズを制御します。四角形状では X/Y/Z 単位、円形状では半径で指定します。


### UVスフィア {#uv-sphere}
::: warning
UV Sphere は、特に極（ポール）付近のスカルプトには適していません。

`Sphere`、`Box`、`Icosahedron` プリミティブと `球へ投影` オプションの組み合わせを優先してください。

`Division` スライダーを非常に低く設定すれば、スカルプトに許容できるトポロジになります。  
その後、`Overall Subdivision` スライダーでポリゴン数を増やせます。

一般的なスカルプトには不向きですが、眼球には有用です。極が瞳孔位置に来るように球を回転させると、ポリゴン配置が虹彩と瞳孔のペイント・スカルプトに自然にフィットします。
:::


### トライプラナー {#triplanar}
このプリミティブは特殊で、ジオメトリの成形には [マスクツール](tools.md#mask) を使用します。

![](/videos/triplanar.mp4)


::: tip
平面をダブルタップすると、その平面にカメラがフォーカスします。  
ただし、ギズモでプリミティブを回転させている場合は機能しません。
:::

Triplanar は 3 つの平面からのマスク情報を使用してボクセルグリッドを埋め、それをポリゴン化します（[ボクセルリメッシャー](topology.md#voxel-remeshere) による）。

各平面は独自の対称平面を持ちます。

::: warning
Triplanar プリミティブのサイズを更新するたびに、マスクペイントの品質は劣化します。

現時点では単一平面上のペイントを「ロック」するオプションはありませんが、将来的に追加される可能性があります。  
[Connected Topology](stroke.md#connected-topology) を使用すると多少は改善でき、カーソルが特定の平面上に正確にある場合、その平面以外には影響しません。
:::

### シャドウキャッチャー {#shadow-catcher}
Shadow Catcher マテリアルを適用した平面を追加します。詳細は [Shadow Catcher マテリアル](material.md#shadow-catcher) を参照してください。 


## グループ／カメラ {#groupcamera}
### グループ {#group}
他のオブジェクトを子としてぶら下げられる「空の」オブジェクトを作成します。多数のオブジェクトを 1 つのグループの下にまとめて折りたたむことで、階層を整理できます。グループは移動用のヘルパーとしても使え、複数オブジェクトをグループの子にしておけば、ギズモツールでグループを移動・回転・スケールするだけでまとめて操作できます。

### ビューを追加 {#add-view}
カメラを作成します。

## リピーター {#repeaters}
![](/images/scene_primitive_repeaters.webp)

リピーターは、その下にあるオブジェクトのインスタンスを生成するノードです。 

### アレイ {#array}
![](/images/scene_primitive_array.webp)

このノードの子にしたオブジェクトは、グリッド状にインスタンス化されます。選択時には以下のコントロールがあります:
* Fit inside - 配列全体のグリッド／ボックスサイズを制御するか、インスタンス間の間隔を制御するかを切り替え
* CountX/Y/Z - 各軸方向のインスタンス数
* OffsetX/Y/Z - Fit inside 無効時のインスタンス間距離
* SizeX/Y/Z - Fit inside 有効時の配列グリッド全体の幅／高さ／奥行き

### カーブ {#curve}
![](/images/scene_primitive_curve.webp)
カーブを作成し、このノードの子オブジェクトをカーブに沿って繰り返します。選択時には以下のコントロールがあります:
* Edit - カーブ上のポイントの追加・移動を可能にします。
* Snap - カーブポイントを他のジオメトリにスナップします。
* Align - 子形状をカーブの方向に合わせて回転させます。
* Count - インスタンス数
* Closed - カーブの始点と終点をつなげるか、開いたカーブにするかを切り替え
* Radius - 各カーブポイントにインスタンスのスケールを制御するハンドルを表示
* Twist - 各カーブポイントにインスタンスのツイスト回転を制御するハンドルを表示
* B-spline - インスタンスをカーブに厳密に沿わせるか、より滑らかな B スプライン補間を使用するかを切り替え 

### ラジアル {#radial}
![](/images/scene_primitive_radial.webp)

このノードの子オブジェクトは円形にインスタンス化されます。子オブジェクトを移動すると、このリピーターの半径が変化します。選択時には以下のコントロールがあります:
* RadialX/Y/Z - これらのボタンで回転軸を設定し、インスタンス数を指定します。



### ミラー {#mirror}
![](/images/scene_primitive_mirror.webp)

このノードの子オブジェクトは、指定軸に対してミラーリングされます。選択時には以下のコントロールがあります:
* Gizmo - トランスフォームギズモを有効にしてミラーの中心を設定します。回転やスケールも可能です。完了したら再度 Gizmo をタップして標準コントロールに戻ります。
* X/Y/Z - ミラープレーンを設定

すべてのリピーターには `Validate` コントロールがあり、リピーターの結果を焼き込む際の方法を選択できます:
* Join children - インスタンスを 1 つのオブジェクトに結合
* Keep instances - インスタンスをインスタンスのまま保持するが、リピーターの「親」からは切り離す
* Un-instances - インスタンスを一意のオブジェクトに変換

::: tip ヒント: リピーターの組み合わせ
リピーター同士を親子関係にしたり、複数オブジェクトをリピーターの子にすることで、複雑な効果を得られます。

![](/images/scene_repeater_combine.webp)
:::

::: tip ヒント: リピーターのピボット

一部のリピーターは子オブジェクトのピボットを自動調整しようとするため、ギズモツールで移動や回転を行っても動かない場合があります。この挙動を上書きしたい場合は、リピーターと子オブジェクトの間にグループを挿入してください。これで、リピーターとは独立して子形状を移動できます。
:::

## ライト {#light}

![](/images/scene_primitive_light.webp)

### ディレクショナル {#directional}
太陽のような、無限遠からの平行光源を作成します。

### スポット {#spot}
スポットライトを作成します。コーンの幅やソフトネスを制御できます。

### ポイント {#point}
ポイントライトを作成します。

## 詳細 {#advanced}
### アイテムにフォーカス {#focus-on-item}
シーンリスト内のアイテムをダブルクリックすると、3D ビューでそのアイテムをカメラ中央に表示します。

### 可視性を同期 {#sync-visibility}
目のアイコンを使用すると、選択中のすべてのアイテムに対して表示状態が反映されます。 

### インスタンス：表示 {#instance-show}
シーンリスト左側にカラーカプセルを表示し、インスタンスであることを示します。


### アイコン {#icons}
ビューポート内に表示されるグループ、ライト、カメラ、ミラーアイコンのサイズと不透明度を設定します。

### 階層ライン {#hierarchy-lines}
ビューポート内で、親と子の間にラインを表示します。

## 下部ツールバー {#bottom-toolbar}
これらのアイコンで、ビューポート内のグループ、ライト、カメラ、リピーター、階層ラインの表示／非表示を切り替えます。