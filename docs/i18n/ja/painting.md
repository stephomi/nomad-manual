# ![](/icons/paint.webp) ペイント  

ペイントストロークの色・ラフネス・メタリックを制御し、ペイント属性の全面塗りつぶしや、ペイントツールがレイヤー・マスク・非表示選択とどのように相互作用するかを設定します。

![](/images/paint_overview.webp)  

## 概要

Nomad は PBR 頂点ペイントを使用します。これはどういう意味でしょうか？

### PBR
PBR（Physically Based Rendering／物理ベースレンダリング）は、映画・テレビ・ゲーム・モバイルで広く使われているコンピュータグラフィックス技法です。光を物理特性に基づいて扱い、サーフェスを色・ラフネス・メタリックで定義することで、非常に幅広いフォトリアルな見た目を実現できます。

### 頂点ペイント

頂点ペイントとは、ペイント情報がテクスチャではなくモデルの頂点に保存されることを意味します。Nomad は数十万、しばしば数百万頂点のモデルを扱えるため、非常に細かい表面ペイントが可能です。スカルプトできるディテールであれば、そのディテールをペイントすることもできます。

これはまた、Nomad でのペイントには、他の 3D アプリケーションでよく必要になる、時間がかかり技術的な UV 展開作業が不要であることも意味します。多くの 3D アプリケーションは Nomad ほど高い頂点数をサポートしていませんが、Nomad には優れたテクスチャベイクやディシメーションツールも用意されています。

### テクスチャリング

Nomad はテクスチャをサポートしていますが、それらはインポートしたモデルに含まれているか、頂点ペイントをテクスチャにベイクすることで利用できる必要があります。 

テクスチャとは単なる画像ですが、3D の文脈では通常、オブジェクトに割り当てられた画像を指します。
画像をモデルに巻き付けるには、モデルにテクスチャ座標（UV）が必要です。

Nomad は[自動で計算](topology.md#uv-unwrap)できますが、全体的な品質を細かく制御することはできません。

::: tip
ワークフローの一例:
- Nomad でスカルプトし、その後 [UV 展開](topology.md#uv-unwrap)
- すでに Nomad でペイントを始めている場合は、[頂点カラーをテクスチャに転送](topology.md#bake-vertex-colors-to-texture)
- Procreate にエクスポート
- Procreate でテクスチャ作成
- レンダリング目的で Nomad に再インポート
:::

以上が概要です。ここからペイントメニューの各セクションを見ていきます:


## ストロークペイント
![](/images/paint_intensity.webp)  

このツールでペイントを有効にします。スカルプトとペイントを同時に行いたい場合に便利です。

ペイントが主機能であるツール（例: Paint, Smudge, Mask）では、このチェックボックスは存在しません。

### ペイント強度

メインツールの強度とは別に、ペイント用の強度を設定できるスライダーです。

`Alpha`、`Falloff`、`Randomize` のチェックボックスは、それらの機能がペイントに影響するかどうかを決定します。例えば、Clay ツールでランダマイズを有効にしていても、色はランダマイズされないようにできます。


## マテリアル
![](/images/paint_material.webp) 

最初のアイコンはマテリアルのプレビュー形状です。3D マテリアルプレビュー上をドラッグすると回転します。 

2 つ目のアイコンは、選択したアルファとフォールオフ設定でのペイントストロークのプレビューです。

Material タイトル横のプレビューボタンで、none／Material／Triplanar を切り替えられます。これは、ペイントプロパティをインタラクティブに変更したときに何が起こるかを決定します:

* `None` - プロパティ調整時にモデル上でプレビューは表示されません
* `Material` - プロパティ調整時に、オブジェクト上でマテリアル値がプレビューされます。テクスチャを使用していてモデルに UV がある場合は、その UV が使用されます。
* `Triplanar` - マテリアルがトライプラナープロジェクションとしてプレビューされます。 

スポイトは、シーン内のオブジェクトからすべてのプロパティをサンプリングするために使用できます。

## マテリアルプリセット
3D プレビュー形状をタップすると、マテリアルのプリセットメニューが表示されます。これらはクローンして独自のプリセットを定義できます。

![](/images/paint_presets.webp) 

`Embed Textures` と `Alpha` のトグルを有効にすると、このマテリアルで使用されているテクスチャがプリセット内に保存されます。これについては後述します。

## PBR スライダー
![](/images/paint_sliders.webp) 

[PBR](shading.md#pbr) ペイントでは 4 つのチャンネルを使用します:
- `Color` ペイントされる色です。スポイトでモデルの他の部分やリファレンス画像から色を取得できます。
- `Roughness` サーフェスがどれだけ「粗い」か「滑らか」かを示します。ラフネス値が低いほど反射はシャープになります。
- `Metalness` サーフェスが金属かどうかを示します。値はほとんどの場合 0% か 100% にすべきで、中間値は例外的なケースです。
- `Opacity` マテリアルがどれだけ透けて見えるかを示します。厳密には PBR 仕様の一部ではありませんが、多くの状況で有用です。1 は完全不透明、0 は完全透明です。なお、不透明度と屈折は別物であり、Nomad では屈折は refraction マテリアルで扱われます。 

マテリアルプリセットを選択すると、3 つのチャンネル（不透明度は意図的に除外されることが多い）が同時にペイントされます。つまり、単に「赤」を塗るのではなく、「赤いラフな金属」や「白いスムーズなプラスチック」を塗ることができます。

四角形はテクスチャスロットで、そのプロパティに対して単色ではなくテクスチャを使用する場合にクリックします。

スライダー横のブラシアイコンは、そのプロパティをオブジェクト全体に全面塗りつぶしします。

チェックボックスはそのプロパティを有効／無効にします。例えば、色だけをペイントしたり、ラフネスと不透明度だけをペイントしたりできます。 

以下は、ラフネスとメタリックの異なる組み合わせの例です:

|                | Metalness 0%                      | Metalness 100%               |
| :------------: | :-------------------------------: | :--------------------------: |
| Roughness 0%   | ![](/images/dielectric_r0.webp)   | ![](/images/metal_r0.webp)   |
| Roughness 50%  | ![](/images/dielectric_r50.webp)  | ![](/images/metal_r50.webp)  |
| Roughness 100% | ![](/images/dielectric_r100.webp) | ![](/images/metal_r100.webp) |

::: warning
[Matcap レンダリング](shading.md#matcap)モードでは色のみがサポートされ、メタリックとラフネスは無視されます。
:::

::: tip
PBR ペイントでテクスチャを使用する場合、`Stamp` ツールに切り替えたり、ストロークメニューで dot 以外のモードを使用したりすると、テクスチャがにじみにくくて便利なことが多いです。

![](/videos/paint_color_texture.mp4)  
:::

::: tip
ポリゴン数の少ないオブジェクトに金属面をペイントする場合は、`Smooth Shading` を[グローバル](settings.md#smooth-shading)または[オブジェクト単位](material.md#smooth-shading)で有効にすることを検討してください。
:::

## Paint all

![](/images/paint_paint_all.webp)

現在のマテリアルをオブジェクトに適用します。通常の「Paint All」か、トライプラナープロジェクションとして適用できます。

color／metalness／roughness／opacity スライダー横のチェックボックスは反映され、無効なプロパティは塗りつぶされません。

追加ボタンは、Paint All の影響範囲をさらに制御します:

| Icon                        | Description                                   |
| :-------------------------: | :-------------------------------------------: |
| ![](/icons/tool_mask.webp) | マスクされた領域は影響を受けません。               |
| ![](/icons/tool_hide.webp) | 非表示領域は影響を受けません。                     |
| ![](/icons/opacity.webp)   | 上のツールペイント係数を使用します。               |
| ![](/icons/layer.webp)     | レイヤーの未ペイント領域は影響を受けません。       |
| ![](/icons/triplanar.webp) | トライプラナー設定のインジケーター               |
| ![](/icons/cog.webp)       | トライプラナー設定を開きます                     |

### トライプラナー設定
![](/images/paint_triplanar_settings.webp)

[マテリアルメニューのトライプラナー設定](material.md#triplanar)と同様に、投影のブレンド、タイル、オフセットを制御できます。 

このメニュー上部のプレビューチェックボックスを使用して、値を調整している間、プレビューを常時表示できます。

## グローバルマテリアル
このオプションを有効にすると、選択したマテリアルが他のツールと共通になります。ラフネス・メタリック・カラー設定のみが対象となる点に注意してください。
