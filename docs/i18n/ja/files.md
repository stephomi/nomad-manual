# ![](/icons/open.webp) ファイル {#files}

ファイルメニューでは、Nomad プロジェクトの保存と読み込み、3D モデルのインポートとエクスポート、レンダリング画像のエクスポートができます。

![](/images/file_menu.webp)

## プロジェクト {#project}
![](/images/file_project.webp)

このメニューの上部には、最後に保存したときのサムネイルが表示されます。このサムネイルをタップするとミニブラウザが開き、別のプロジェクトをダブルタップすると、そのプロジェクトを開く・追加・保存・クローン・名前変更・削除するためのミニメニューが表示されます。

### ![](/icons/nomad.webp) プリセット {#preset}
デモやキャラクターコンポーネントのコレクションにアクセスします。1 回目の選択で項目を選び、2 回目の選択で「開く」「シーンに追加」「クローンして自分のプロジェクトフォルダに追加」のいずれかを選択します。

![](/images/file_preset_preview.webp)

### ![](/icons/save.webp) 保存 {#save}
Nomad プロジェクトを保存します。

### ![](/icons/save_as.webp) 名前を付けて保存... {#save-as}
プロジェクトブラウザを表示し、新しい名前で Nomad プロジェクトを保存できるようにします。

### ![](/icons/pencil.webp) 名前を変更 {#rename}
現在のプロジェクト名を変更するためのテキストボックスを表示します。

### ![](/icons/open.webp) 開く... {#open}
プロジェクトブラウザを表示して、プロジェクトを開きます。

### ![](/icons/add_file.webp) シーンに追加... {#add}
プロジェクトブラウザを表示し、プロジェクトを選択すると、その内容が現在のシーンにマージされます。

### ![](/icons/trash.webp) 削除... {#delete}
プロジェクトブラウザを表示し、選択したプロジェクトをファイルシステムから削除します。

### ![](/icons/new_file.webp) 新規作成 {#new}
新しいプロジェクトを開始します。未保存の変更がある場合は、保存するかどうか確認されます。

### ![](/icons/autosave.webp) 自動保存... {#auto-save}
自動保存オプションを制御するメニューです。

自動保存を有効にすると、一定間隔でポップアップが表示されるようにタイマーを設定できます。
Nomad がバックグラウンドで自動保存しない理由は、3D ファイルがかなり大きくなることがあり、スカルプト中に大きなラグを引き起こす可能性があるためです。

さらに、メモリ不足を避けるために、保存処理の前にシーンを圧縮するのが一般的です。
この圧縮／解凍処理も保存処理を遅くする要因になります。

### タイマーポップアップ {#timer-pop-up}
タイマーポップアップをどのくらいの頻度で表示するかを設定します。

### ポップアップのタイムアウト {#popup-timeout}
ポップアップのタイムアウトを有効にします。

### 自動保存を破棄 {#discard-autosave}
あるプロジェクトに自動保存ファイルが存在する場合、元のプロジェクトではなく自動保存ファイルが自動的に読み込まれます。これが不要な場合、このボタンで自動保存ファイルを削除できます。その後に読み込みを行うと、最後に手動保存したプロジェクトが読み込まれます。


## インポート {#import}

### ![](/icons/add_file.webp) インポート {#import-button}
Nomad プロジェクトではない 3D ファイルをインポートします。

外部シーンファイルを Nomad に読み込む際は、「インポート」か「追加」のどちらかを選べます。

ファイルを「追加」すると、オブジェクトが現在のシーンに追加されます。
ファイルを「インポート」すると、新しいオブジェクトを含む新規 Nomad プロジェクトが作成されます。

Nomad は次の形式をインポートできます:
- Nomad (.nom)
- glTF (.glb, .gltf)
- OBJ (.obj)
- STL (.stl)
- PLY (.ply)
- FBX (.fbx, 実験的)

### ![](/icons/cog.webp) 詳細設定 {#advanced}
詳細なインポートオプションを表示します:

### プロジェクト / glTF / OBJ / STL / FBX {#project-gltf-obj-stl-fbx}
#### トポロジーを保持 {#keep-topology}
Nomad はデフォルトで、読み込み時に問題のあるジオメトリを修正しようとします。これを有効にすると、頂点／面の並び替え、頂点／面の重複削除、未使用頂点の削除を行わなくなります。

#### テクスチャをスキップ {#skip-textures}
glTF など、テクスチャをサポートする形式でのテクスチャ読み込みをスキップします。

### プロジェクト / glTF {#project-gltf}
#### GUI設定を保持 {#keep-gui-settings}
Nomad の .nom または glTF ファイル内に GUI とプロジェクト設定を保存できるようにします。

### OBJ {#obj}
#### グループでOBJを分割 {#split-obj-by-groups}
OBJ のグループを個別のオブジェクトとして分割することを有効にします。

#### カラースペース {#color-space}
OBJ から解釈されるカラーモードを Linear、sRGB、Auto から設定します。

### PLY {#ply}
#### カラースペース {#color-space-ply}
PLY から解釈されるカラーモードを Linear、sRGB、Auto から設定します。


### FBX {#fbx}
#### カラースペース {#color-space-fbx}
OBJ から解釈されるカラーモードを Linear、sRGB、Auto から設定します。



## エクスポート {#export}
他のソフトウェアで使用できる 3D ジオメトリ形式で保存します。 

![](/images/file_export.webp)

ファイル形式ごとにサポートされる機能が異なるため、選択したファイルタイプに応じて利用可能なオプションが変化します。

<!-- https://www.tablesgenerator.com/markdown_tables# -->
<!-- http://markdowntable.com/ -->
|                                 | NOM    | GLTF/GLB             | OBJ  | USD | PLY  | STL   | FBX                    |
| :-----------------------------: | :----: | :------------------: | :--: | :--: | :--: | :---: | :--------------------: |
| [Vertex Colors](#vertex-colors) | ✅     | ✅                   | ✅   | ✅ | ✅    | ✅    | ✅                     |
| [Vertex PBR](#vertex-pbr)       | ✅     | Nomad ✅<br>Other ⚠️ | ❌   | ✅ | ✅    | ❌    | ❌                     |
| Quad                            | ✅     | Nomad ✅<br>Other ⚠️ | ✅   | ✅ | ✅    | ❌    | ✅                     |
| [Layers](#layers)               | ✅     | ✅                   | ❌   | ✅ | ❌    | ❌    | ✅                     |
| Objects                         | ✅     | ✅                   | ✅   | ✅ | ❌    | ❌    | ✅                     |
| Face Group                      | ✅     | ✅                   | ✅   | ✅ | ❌    | ❌    | ✅                     |
| Hierarchy                       | ✅     | ✅                   | ❌   | ✅ | ❌    | ❌    | ✅                     |
| Lights                          | ✅     | ✅                   | ❌   | ✅ | ❌    | ❌    | ✅                     |
| Textures                        | ✅     | ✅                   | ✅   | ✅ | ❌    | ❌    | Import ✅<br>Export ❌ |
| Primitives, Postprocess, etc    | ✅     | Nomad ✅<br>Other ❌ | ❌   | ❌ | ❌    | ❌    | ❌                     |


### すべて / 表示中 / 選択中 {#allvisibleselected}
アクティブなボタンの状態によって、どのオブジェクトをエクスポートするかが決まります。アイコンの横の数字は、そのオプションでエクスポートされるオブジェクト数を示します。

### 頂点カラー {#vertex-colors}
ファイル形式がサポートしている場合、頂点カラーをエクスポートします。

### PBRペイント {#pbr-paint}
PBR 頂点カラーは、セカンダリ頂点カラー属性としてエクスポートされます。
チャンネルは次のようにパックされます:

|           | Channel  |
| :-------: | :------: |
| Roughness | R        |
| Metalness | G        |
| Masking   | B        |


### レイヤー {#layers}
レイヤーは glTF のモーフターゲットとしてサポートされます。
Nomad はレイヤーごとのカラー、ラフネス、メタルネスもエクスポートしますが、他のソフトウェアでは無視されます。

### レイヤーペイント {#layer-painting}
レイヤーペイントをエクスポートしますが、通常は他のソフトウェアでは無視されます。

### フェイスグループ {#face-group}
フェイスグループをエクスポートします。エクスポートすると他のソフトウェアとの互換性に影響する場合があります。

### 法線 {#normals}
法線情報をエクスポートします。なお、Nomad は他形式のファイルをインポートする際、常に独自に法線を計算し直します。

### 接線 {#tangents}
接線情報をエクスポートします。これはモデルにノーマルマップがある場合に使用されます。 

### テクスチャ {#textures}
マテリアルにテクスチャが追加されている場合、それらもエクスポートされます。これはベイク処理ではない点に注意してください。ベイクはトポロジのベイクオプションから行います。

### エクスポートボタン {#export-button}
このボタンをクリックすると、選択した設定でジオメトリをエクスポートします。

::: tip Tip: Blender へのラフネスとメタルネスのインポート

Blender は glTF/glb をインポートできますが、メタルネスとラフネス用の頂点属性を自動では解釈しません。これらを使用するには、マテリアルエディタで Vertex Color ノードを作成し、そのプロパティを次のカラー属性（通常は Col.001）に設定します。続いて「Separate XYZ」ノードを接続し、X を Roughness に、Y を Metallic に接続します。

この動画で手順を確認できます:

![](/videos/blender_pbr.mp4)

::: 

::: tip Tip: USD 機能サポート

USD は複雑なフォーマットであり、仕様としては多くの機能をサポートしていますが、すべての 3D ソフトウェアがそれらをサポートしているわけではありません。たとえば OSX/iOS は頂点カラーをサポートしていません。USD エクスポーター内のプリセットモードは、OpenUSD、Apple、Procreate、ZBrush との互換性についてベストな推測を行うことを目的としています。

::: 

## レンダー {#render}

プロジェクト内のすべての設定（ライト、マテリアル、ポストプロセスなど）を組み合わせた画像をエクスポートします。 

![](/images/file_render.webp)
### プレビュー {#preview}

メニュータイトル横の小さなプレビューボタンを押すと、ツールバーが暗くなり、最終結果のプレビューがしやすくなります。

### 透過背景 {#transparent-background}
レンダーにアルファチャンネルを有効にします。2D プログラムで他の画像と合成する際に便利です。部分的な透過はサポートされていない点に注意してください。

### インターフェースを表示 {#show-interface}
レンダー画像に Nomad の UI を含めるかどうかを切り替えます。

### レンダー比率 {#render-ratio}
画像解像度に対する倍率です。

### 最終サイズ {#final-size}
レンダーに使用する解像度です。`Custom` を選択すると、幅と高さのスライダーが有効になります。 

ファイルメニューがアクティブなとき、レンダー解像度が画面解像度と一致しない場合は、ビューポートに破線のオーバーレイが描画され、レンダー領域が示されます（正しく表示するには横向きモードである必要があります）。

### PNGを書き出し {#export-png}
このボタンをクリックするとレンダリング処理が開始されます。完了後、画像の保存や共有方法を選択できます。