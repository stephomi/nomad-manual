# ![](/icons/sun.webp) التظليل {#shading}

تتحكم هذه القائمة في أوضاع التظليل التي يستخدمها Nomad، وخصائص الإضاءة، وخصائص إضاءة البيئة/الماتكاب.

![](/images/shading_overview.webp)



يمكنك الاختيار بين عدة أوضاع عرض:

| Mode                        | Meaning                    | Description                                                     |
| :-------------------------: | :------------------------: | :-------------------------------------------------------------: |
| [Lit(PBR)](#pbr)            | التصيير الفيزيائي القائم على الواقع | التلوين باستخدام الـ metalness/roughness                        |
| [Matcap](#matcap)           | التقاط المادة             | يُستخدم أثناء النحت مع استهلاك أقل للـ GPU/CPU من PBR          |
| [Unlit](#unlit)             | لون السطح                 | لون السطح فقط بدون تظليل أو إضاءة                              |
| [Object Id](#object-id)      | معرّف الكائن              | لون عشوائي لكل كائن، مفيد لتطبيقات التلوين.                   |
| [Instance Id](#instance-id)  | معرّف النسخة              | لون عشوائي لكل نسخة، مفيد للتعرّف على المجسمات المشتركة        |

إذا أردت معرفة المزيد عن الـ metalness والـ roughness، راجع قسم [طلاء الرؤوس](painting.md).

---

![](/images/shading_second.webp)

### مجموعة الوجوه {#face-group}
إظهار ألوان مجموعات الأوجه. مجموعات الأوجه هي تحديدات ملوّنة من المضلعات يمكن إنشاؤها بأداة [Face group](tools#facegroup)، ويتم إنشاؤها تلقائيًا مع معظم الأشكال البدائية.

بعض الأدوات ستقوم تلقائيًا بالتصفية حسب مجموعات الأوجه عندما تكون مرئية.

### إظهار الطلاء {#show-paint}
يمكن لـ Nomad تخزين اللون، والـ roughness، والـ metalness في رؤوس نموذجك. يمكنك تبديل عرض هذه الخصائص عالميًا عبر هذا المربع.

لاحظ أنه إذا كان لديك خصائص رؤوس وملفات خام (Textures) معًا، وكلاهما مفعّل، فسيتم ضرب القيم ببعضها.

### إظهار القناع {#show-mask}
تبديل تراكب القناع بتدرج الرمادي الخاص بـ [أدوات القناع](tools#mask). عند تعطيله، يتم تعطيل القناع أيضًا، وهو مفيد لإجراء تغييرات سريعة بدون القناع، ثم يمكنك تفعيله مجددًا دون فقدان القناع.

### استخدام الإخفاء {#use-hide}

تبديل الوجوه المخفية. لاحظ أن هذا يعمل فقط إذا لم تكن في أداة الإخفاء!

### استخدام الخامات {#use-textures}

يسمح Nomad بإسناد خامات (Textures) للكائنات من قائمة [المادة](material). إذا تم إسناد خامات يمكن تبديلها عالميًا بهذا المربع.







### نظرة عامة على PBR والإضاءة {#pbr}
لن يخوض هذا الدليل في تفاصيل التصيير الفيزيائي القائم على الواقع (PBR).

أمر مهم يجب تذكره هو أن الإضاءة والمادة منفصلان تمامًا.
هذا يعني أنه يمكنك طلاء لون الكائن، والـ roughness، والـ metalness بينما تتم معالجة الإضاءة بشكل مستقل.
يسمح لك هذا بطلاء كائنك ثم تعديل الإضاءة لاحقًا دون كسر المظهر العام لنموذجك.

الأضواء متاحة فقط مع [وضع PBR](#pbr).
لأسباب تتعلق بالأداء، أنت محدود بـ 4 أضواء فقط.

::: tip
يمكنك تحميل ملف glTF يحتوي على أكثر من 4 أضواء وسيحتفظ Nomad بها جميعًا.
مع ذلك قد لا يكون الأداء جيدًا.
:::

::: tip
يمكنك تزييف وجود العديد من الأضواء بجعل الكائنات Unlit/Emissive، ثم تفعيل الإضاءة العالمية في قائمة [المعالجة اللاحقة](postprocess).
:::

### نظرة عامة على أنواع الإضاءة {#light-types-overview}

هذه هي أنواع الأضواء المدعومة حاليًا:

| Mode                        | Description                                             | Can cast shadows                                       |
| :-------------------------: | :-----------------------------------------------------: | :----------------------------------------------------: |
| [Directional](#directional) | ضوء شمس بعيد لا نهائي                                  | yes                                                    |
| [Environment](#environment) | ضوء بعيد مطابق لإضاءة البيئة HDR                       | yes                                                    |
| [Spot](#spot)               | أضواء على شكل مخروط				                        | Yes                                                    |
| [Point](#point)             | نقطة ضوء تبعث في كل الاتجاهات                          | Yes, but only through less robust screen-space shadows |

#### اتجاهية {#directional}
يبعث الضوء من مسافة لا نهائية، بشدة موحّدة.
موضعه ثلاثي الأبعاد في المشهد غير مهم، ما يهم هو اتجاهه فقط.

يمكنك إرفاق هذا الضوء بالكاميرا، وبهذه الطريقة تحصل على إضاءة ثابتة.  
على سبيل المثال يمكنك استخدامه كضوء حافة (rim light) قوي يصدر من خلف النموذج باتجاه الكاميرا، بحيث يضيء دائمًا خلف نموذجك.

#### إضاءة البيئة {#env-light}
استخدام [بيئة HDR](#environment) يعمل جيدًا للإضاءة الناعمة العامة، لكن إذا كان هناك مصدر ضوء حاد وقوي في الـ HDR، فسيكون الظل الناتج عنه ناعمًا جدًا، وغالبًا غير مرئي. استخدام ضوء Directional مع HDR البيئة يمكن أن يساعد، لكن قد يكون من الصعب محاذاتهما.

هذا الضوء يقوم بالمهمة عنك. سيتم تدوير الضوء تلقائيًا ليتماشى مع أكثر جزء ساطع في الـ HDR، ثم يمكنك التحكم في شدته وزاويته (نعومة الظل) بشكل منفصل. 

#### كشاف {#spot}
ضوء Spot يبعث الضوء في اتجاه واحد، ومقيّد بشكل مخروط.

#### نقطة {#point}
ضوء Point يبعث الضوء في كل الاتجاهات.  
حاليًا، ضوء Point لا يدعم الظلال.

#### الظلال {#shadows}
يمكن استخدام خيار `normal bias` لتقليل عيوب الظلال الشائعة (acne/peter-panning).

تعتمد جودة الظلال على حجم الكائنات نسبةً إلى كامل المشهد.  
إذا كان لديك كائن كبير في المشهد لا يحتاج لإسقاط ظلال (مثل سطح مستوٍ كبير)، تأكد من تعطيل إسقاط الظلال في [إعدادات مادته](material.md#cast-shadows).

## الأضواء {#lights}

![](/images/shading_lights.webp)

### ![](/icons/checked.webp) مربع اختيار الأضواء {#lights-checkbox}

تبديل كل الأضواء المباشرة في المشهد.



### إضافة ضوء {#add-light}

إضافة ضوء إلى المشهد، حتى حد أقصى 4 أضواء. عند إضافة ضوء، تظهر قائمة الأضواء مع الأزرار، ويُضاف شريط أدوات للضوء أعلى منفذ العرض.

![](/images/shading_lights_icons.webp)

* النص يعرض اسم الضوء والسطوع.
* أيقونة العين تبدّل الرؤية.
* أيقونة القلم تسمح بإعادة تسمية الضوء.
* أيقونة سلة المهملات تحذف الضوء.
* أيقونة النسخ تنسخ الضوء. 
* أيقونة النقاط الثلاث تفتح محرر الضوء الكامل. معظم هذه الوظائف متاحة أيضًا من شريط الأدوات الذي يظهر في منفذ العرض. 

### ![](/icons/spotlight.webp) الأيقونات {#icons}

تبديل عرض أيقونات الأضواء في منفذ العرض.

### شريط أدوات الضوء {#light-toolbar}
![](/images/shading_lights_toolbar.webp) 

يظهر هذا الشريط أعلى منفذ العرض عند تحديد ضوء.

* Show يبدّل رؤية الضوء.
* Directional/Environment/Spot/Point يغيّر نوع الضوء. انقر للتنقل، أو اضغط مطولًا لرؤية قائمة.
* Intensity تتحكم في قوة الضوء، ويمكن أن تتجاوز القيمة 1.0 للأضواء الشديدة، وهو مفيد عند استخدامه مع الإضاءة العالمية في المعالجة اللاحقة.
* مربع اللون عند النقر عليه يفتح منتقي الألوان. يوفر Nomad عدة طرق لاختيار اللون. تحكم Kelvin يوفر طريقة طبيعية لاختيار الإضاءة الدافئة/الباردة.
* Shadow يبدّل الظلال.
* Size يحدد عرض الضوء. الأضواء الأعرض تلقي ظلالًا ناعمة، وإضاءة ناعمة، ولمعة أوسع على الكائنات.
* ... يفتح إعدادات إضافية.

### عناصر تحكم إضافية للضوء {#light-extra-controls}

![](/images/shading_extra_controls.webp) 

لاحظ أن بعض الخيارات خاصة بأنواع معينة من الأضواء.

* `Clone` ينسخ الضوء.
* `Recenter` يعيد الضوء إلى مركز المشهد (الأصل).
* `Delete` يحذف الضوء.
* `Directional/Environment/Spot/Point` تسمح بتغيير نوع الضوء.
* `colour swatch` عند النقر يفتح منتقي الألوان. 
* `Intensity` تتحكم في قوة الضوء.
* `Attachment` (_للـ directional فقط_) يحدد ما إذا كان الضوء مرتبطًا بالعالم أو بالكاميرا. مثلًا إذا استخدمت ضوءًا اتجاهيًا خلف الشخصية كضوء حافة، وعُيّن الإرفاق على الكاميرا، فإن تدوير الكاميرا سيُبقي الضوء دائمًا خلف الشخصية.
* `Angle` (_للـ directional و environment فقط_) هو الحجم الظاهري للضوء، فكّر به كحجم الشمس في السماء. الزوايا الأكبر تعطي ظلالًا أنعم ولمعات أوسع.
* `Softness` (_للـ spotlight فقط_) تتحكم في حدة حافة مخروط الضوء. القيمة 0 حافة حادة جدًا. القيمة 1 ناعمة جدًا، مع تدرج نحو مركز مخروط الضوء. في منفذ العرض يمكن استخدام النقطة الزرقاء الصغيرة على مخروط الضوء لضبط النعومة تفاعليًا.
* `Cone angle` (_للـ spotlight فقط_) تتحكم في زاوية انتشار الضوء. الزاوية الصغيرة تعطي شعاعًا رفيعًا جدًا، و170 تعطي انتشارًا واسعًا جدًا. في منفذ العرض يمكن استخدام النقطة البرتقالية لضبط زاوية المخروط تفاعليًا.
* `Shadow` يبدّل الظلال للضوء الحالي.
* `Shadow map` و`screenspace` هما طريقتان مختلفتان لحساب الظلال، وعادةً يكون Shadow map أكثر موثوقية.
* `Contact` يضبط كيفية حساب الظلال. الظلال مشكلة صعبة في الرسوميات الحاسوبية وقد تسبب عيوبًا في التصيير. يمكن اختيار ظلال أكثر دقة لأهم ضوء في المشهد، وهذا التحكم يحدد ما إذا كان Nomad يختار الضوء الأهم تلقائيًا أو يختاره المستخدم.
* `Tolerance` إذا ظهرت عيوب في الظلال (مثل عدم ملامسة الظلال للأسطح، أو وجود ضوضاء وأنماط داخل الظلال)، يمكن أن يساعد ضبط Tolerance في إصلاح هذه المشاكل.


## البيئة {#environment}

![](/images/shading_environment.webp)

الضوء في العالم الحقيقي يأتي من كل الاتجاهات؛ زرقة السماء، خضرة العشب، حمرة المباني، كل هذا الضوء من "البيئة" يمكن محاكاته بخريطة بيئة (Environment map). 

يأتي Nomad مع عدة خرائط بيئة جاهزة لمناطق داخلية وخارجية، مع درجات ألوان ومستويات سطوع مختلفة. جرّب خرائط مختلفة لترى أيها يُظهر أكبر قدر من التفاصيل في منحوتاتك.

انقر على الصورة لرؤية خرائط البيئة المتاحة. من ذلك الحوار اختر "Import..." لتحميل خرائطك الخاصة. من الأفضل استخدام صور عالية المدى الديناميكي (HDR) بصيغة latlong أو equirectangular، كملفات .hdr أو .exr. يحتوي موقع [www.polyhaven.com](https://polyhaven.com/hdris) على مجموعة جيدة من خرائط البيئة المجانية، وعادةً تكون خرائط 1k hdr بحجم وجودة مناسبين.

### التعريض {#env-exposure}
يضبط سطوع خريطة البيئة. غالبًا ما تكون الخرائط ساطعة جدًا عند استخدامها مع الأضواء العادية، وخفض التعريض يمكن أن يساعد على الموازنة، خصوصًا عند استخدامها مع الإضاءة العالمية في إعدادات [المعالجة اللاحقة](postprocess).

### الدوران {#env-rotation}

لأن خرائط البيئة تلتقط الضوء من كل الاتجاهات، يمكنك تدويرها للحصول على انعكاسات وإضاءة عامة تتوافق جيدًا مع منحوتتك.

### مرتبط بالكاميرا {#env-attached}
إرفاق البيئة بالكاميرا.

سيجبر هذا الإضاءة على أن تكون ثابتة، وهو ما يمكن أن يكون مفيدًا أثناء النحت.


## ![](/icons/sphere_smooth.webp) Matcap {#matcap}

![](/images/shading_matcap.webp)

كما يوحي الاسم (MATerial CAPture)، فإن الماتكاب يتكفّل بكل من معلومات الإضاءة والمادة في صورة واحدة.
وبما أن المادة نفسها موجودة بالفعل في الماتكاب، فسيتم تجاهل قنوات طلاء الـ roughness والـ metalness.
سيتم ضرب لون الطلاء في الماتكاب، ما يعني أنه إذا كان لديك ماتكاب أسود/رمادي، فإن استخدام طلاء أبيض لن يجعله أكثر سطوعًا.

يفضّل الفنانون هذا الوضع لأغراض النحت لأنه يسمح لهم بالتركيز على الشكل والهندسة نفسها.

النقر على الكرة يفتح مستعرض الصور. يمكنك أيضًا إضافة ماتكاب خاص بك، فعادةً يمكن استخدام أي صورة أو رندر أو حتى لوحة لِكرة تم قصّها بإحكام داخل مربع. تتوفر العديد من مكتبات الماتكاب على الإنترنت، ومرجع مفيد هو [مكتبة nidorx للماتكاب](https://github.com/nidorx/matcaps).

### استخدام Matcap عام {#matcap-global}

عادةً ما يستخدم الفنانون ماتكابًا واحدًا لكل المنحوتة، لكن إذا تم تعطيل هذا الخيار، يمكن لكل كائن أن يملك ماتكابًا خاصًا به. يمكن استخدام هذا فنيًا للحصول على نتائج لافتة.

::: tip
عطّل هذا الخيار، واستخدم صورة لعين لاستخدامها كعيون لشخصياتك!
:::

### الدوران {#matcap-rotation}
الماتكاب هو شكل متخصص من خريطة البيئة، لذا مثله مثل خريطة البيئة يمكن تدويره. يمكنك أيضًا فعل ذلك في أي وقت في منفذ العرض بالسحب بثلاثة أصابع يمينًا ويسارًا.



## ![](/icons/circle_fill.webp) بدون إضاءة {#unlit}

هذا الوضع سيعرض لون السطح فقط. يمكن أن يكون مفيدًا للتحقق من أن ألوان أسطح كائناتك كما تتوقع، دون تشتيت بسبب الأضواء أو الظلال أو الانعكاس أو الشفافية. 

يمكن أيضًا استخدام هذا الوضع للحصول على تصيير غير واقعي، بمظهر مسطّح وكرتوني.

## ![](/icons/cube.webp) معرّف الكائن {#object-id}

يتم تجاهل كل معلومات الإضاءة والسطح، ويُظلَّل كل كائن بلون مسطّح فريد. إذا تم تصييره بجانب تصيير PBR، يمكن استخدامه في برنامج رسم للاختيار حسب اللون، وبالتالي إجراء تصحيحات لونية على كائنات محددة.

لاحظ أن هذه الألوان ستظهر أيضًا في [عرض شجرة المشهد](scene#tree-view).

### عشوَنة المعرّف {#object-random}

توليد مجموعة جديدة من الألوان العشوائية. 

## ![](/icons/link.webp) معرّف النسخة {#instance-id}

مماثل لـ Object ID، لكن النسخ (Instances) ستمتلك نفس اللون. 

### عشوَنة المعرّف {#instance-random}

توليد مجموعة جديدة من الألوان العشوائية.